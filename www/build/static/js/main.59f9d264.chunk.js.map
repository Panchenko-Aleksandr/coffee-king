{"version":3,"sources":["config/axios.js","config/key.js","store/actions/layoutAction.js","store/actions/actionTypes.js","store/actions/cartAction.js","store/actions/goodAction.js","store/actions/authAction.js","Admin/Validators/index.js","components/Auth/Auth.js","components/Navigation/Navigation.js","components/MainForm/MainForm.js","components/About/About.js","components/Loader/Loader.js","utils/index.js","components/ItemSlider/SliderItem.js","components/Slider/Slider.js","components/RecentProducts/RecentProducts.js","components/Discount/Discount.js","Admin/Modal/Modal.js","components/Footer/Footer.js","Layout/MainLayout/MainLayout.js","components/Breadcrumbs/Breadcrumbs.js","components/Sort/Sort.js","components/ListOfGoods/ListOfGoods.js","components/Filter/PriceRange/FilterPriceRange.js","components/Cart/CartLine.js","components/Cart/CartListOfUser.js","components/Cart/Cart.js","components/Filter/Filter.js","container/Shop/Shop.js","components/NewReview/NewReview.js","components/ItemFullInfo/ItemFullInfo.js","container/ShopItem/ShopItem.js","Layout/ShopLayout/ShopLayout.js","components/404/404.js","Layout/ProductLayout/ProductLayout.js","components/Checkout/Checkout.js","components/ContactUs/ContactUs.js","Admin/EditorGoods/Review/Review.js","Admin/components/InputImg/index.js","Admin/components/---UploadImg/UploadImg.js","Admin/EditorGoods/EditGood/EditGood.js","Admin/SearchModule/SearchModule.js","Admin/EditorGoods/EditorGoods.js","Admin/EditorUsers/EditBtnUsers/EditBtnUsers.js","store/actions/userAction.js","Admin/EditorUsers/EditorUsers.js","Admin/DashBoard/DashBoard.js","App.js","store/reducer/goodReducer.js","store/reducer/layoutReducer.js","store/reducer/authReducer.js","store/reducer/cartReducer.js","store/reducer/userReducer.js","store/reducer/rootReducer.js","index.js"],"names":["axios","create","baseURL","method","catchError","module","fn","msg","console","log","type","showModalInformation","dispatch","openModalWindow","isShow","id","title","text","e","showModalError","options","payload","axiosQuery","query","axiosCustom","data","addItemToCart","item","a","needMessage","userToken","localStorage","getItem","then","res","checkUserToken","catch","delItemFromCart","fetchUserCart","userId","getState","userSrt","authReducer","user","_id","allCart","getCartUser","length","cart","filter","c","orderStatus","fetchLastNotCompleteCart","filterCartByIdSuccess","initCartForTheNextShopSuccess","addGoodsImg","img","name","append","post","response","updateGoodImage","nameImg","updateImgForGood","setGoodForEdit","searchItem","goodReducer","search","searchListOfGoods","i","setGoodForEditSuccess","setTagsForSearch","listOfGood","tags","Set","forEach","tag","t","add","newTags","value","filterGoodsByCategorySuccess","categoryId","changePaginationCurrentPages","setMinMaxPriceOfGoods","price","filterListOfGood","isActive","min","max","changePriceForSearch","fetchCategoryOfGood","listCategory","getListOfCategory","getAllGoodsSuccess","getGoodByIdSuccess","token","getUserByToken","authenticateUserSuccess","setItem","sessionId","required","toString","trim","className","requiredSelectCategory","number","validator","isCurrency","email","isEmail","Auth","state","isShowReg","isErrorComparePassword","closeAuth","preventDefault","props","changeShowAuth","handleClickBtnRegister","setState","handleClickBtnAuth","onSubmitFormHandler","formDataWithAttrName","Object","values","form","formData","FormData","formDataFile","idx","files","JSON","parse","checked","newGood","entries","key","replace","JSONparse","slice","target","dataset","typeBtn","authenticateUser","registerNewUser","comparePassword","document","querySelector","error","this","onClick","ref","el","validations","onBlur","data-type-btn","Component","connect","login","password","address","addNewUser","authUser","Navigation","showSearch","showAuth","handlerChangeStateSearch","classList","handlerChangeAuth","closeBackdrop","remove","handleStartSearch","authForm","isAuth","changeVisibilitySideBar","logout","fnAgree","logoutRefresh","toggleBurgerMenu","logoBlack","showAuthForm","sideBar","classNavlLink","src","alt","permission","to","onKeyPress","style","display","withRouter","isAdmin","cartReducer","itemsGood","layoutReducer","SideBar","removeItem","logoutUser","bool","MainForm","backgroundImage","About","class","filterCurrency","cur","pageToUp","scrollIntoView","behavior","block","pageToUpAnchor","anchor","pageToUpToTop","SliderItem","addToCart","stopPropagation","slide","oldPrice","itemShortDescription","data-id","NextArrow","newStyle","zIndex","classNameArrow","prepareNextArrowSlider","classArrow","split","indexOf","splice","join","right","top","width","height","PrevArrow","preparePrevArrowSlider","left","Slider","renderSlide","slides","map","customPaging","typeSlider","dots","autoplay","infinite","slidesToShow","slidesToScroll","settings","initialSlide","arrows","swipeToSlide","speed","rows","vertical","centerMode","autoplaySpeed","cssEase","nextArrow","prevArrow","cursor","marginLeft","undefined","RecentProducts","isFirstCategory","handleClickCategory","querySelectorAll","filterGoodsByCategory","fetchAllGoods","searchListOfCategory","filterGoods","Discount","handleOpenAuthForm","Modal","instance","modal","M","getInstance","destroy","prevProps","prevState","snapshot","fnParam","agree","disagree","Footer","toUpPage","onCloseEnd","closeModalWindow","init","open","arrowTop","window","addEventListener","hidden","pageYOffset","href","MainLayout","children","Breadcrumbs","titlePage","breadcrumbs","link","Sort","handleChangeSelectOrderBy","changeTypeOrderBy","orderBy","qtyResultOfFetchGoods","sort","onChange","disabled","selected","param","b","moment","dateInsert","ListOfGoods","handlePageClick","page","fetchPaginatePage","goods","currentPage","limitGoodsOfPage","startSlice","previousLabel","nextLabel","breakLabel","breakClassName","pageCount","marginPagesDisplayed","pageRangeDisplayed","onPageChange","containerClassName","subContainerClassName","activeClassName","forcePage","FilterPriceRange","rangeValue","onChangeRangeHandler","step","onShowHideHandler","maxValue","minValue","toFixed","CartLine","totalSummary","qty","handleChangeCountItem","subItemFromCart","handleDeleteItems","params","total","good","data-name","data-type","subItemFromGood","CartListOfUser","getSumOrder","items","reduce","acc","checkStatusOrder","status","list","totalOrders","currency","orderDate","format","colSpan","users","userReducer","Cart","closest","renderMiniCart","match","cellpadding","cellspacing","Filter","isFirst","initAllFilter","initAveragePrice","addCategoryForFilter","history","push","filterByTag","addTagsForFilter","filterByPrice","htmlFor","data-tag","priceForSearch","queryStr","NewReview","cols","ItemFullInfo","changeTabs","changeVisibleBigImg","location","pathname","getGoodById","goodId","goodById","category","descriptionTitle","descriptionText","ProductLayout","Checkout","getMessageForNeOrder","order","newOrder","contains","changeStatus","changeOrderStatus","sendOrders","cartId","filterCartById","cartById","data-order-status","getCartById","changeStatusUserCart","Review","InputImg","onHandleChange","newArrPreviewImg","URL","createObjectURL","uploadInput","accept","UploadImg","addNewGoodAlternativ","NewGood","select","selectedValue","fieldInput","fieldSelect","btnOk","btnEdit","btnAdd","btnDel","addingGood","newValue","selectedGoodForEdit","goodParam","short","full","clearForm","reset","isReloadImg","typeMutation","editorGood","handleBtnClick","$el","valueParse","btnType","deleteCategory","Promise","resolve","editCategory","newCategory","selectedLine","stringify","handleChangeCategory","handleChangeValue","handleChangeStateIsActive","previewImg","removeAttribute","editItem","reSearchFn","placeholder","data-btn-type","dataItem","toLowerCase","shortDescription","fullDescription","addNewGood","editExistGood","addNewCategory","SearchModule","selectGood","EditorGoods","showEditorField","searchStr","isShowSearchModule","changeStateSearch","initialGoodForEdit","handleChangeSearchGood","searchForEditorSheet","handleSearchGoodForEdit","newItem","onFocus","str","searchNameGood","EditorUsers","isOpen","toggleModal","handleSearchUser","searchField","setSearchStr","fetchAllUsers","calculateSpentMoneyUser","sum","tempSumCart","calculateWaitOrdersUser","finalOrders","totalSum","toggleDataOrders","changePassword","toggleChangePass","getUserById","u","data-search-field","addressDelivery","getAllUsers","DashBoard","App","WOW","boxClass","animateClass","offset","mobile","live","callback","box","scrollContainer","routesNotAuth","path","exact","component","ShopLayout","ContactUs","Page404","routes","routesAdm","initialState","categoryForSearch","combineReducers","action","itemInCart","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.59f9d264.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport {GraphQlURL} from '../config/key';\r\n\r\nexport default axios.create (\r\n    {\r\n      baseURL : GraphQlURL,\r\n      method : 'POST',\r\n\r\n    }\r\n);\r\n\r\n// export const axiosUploadImg = ( data ) => {\r\n//   return axios.create ( {\r\n//         baseURL : env.UploadImg,\r\n//         method : 'POST',\r\n//         ...data\r\n//       }\r\n//   )\r\n// };","export const GraphQlURL = '/graphql';\r\nexport const editorGoodURI = '/editorGood';\r\nexport const logoutURI = '/logout';\r\nexport const pathImage = '/img/item';\r\n\r\nexport default ( {\r\n  pathDefault : '/',\r\n  saltForCrypt : 'coffee-shop'\r\n} )\r\n","import { CATCH_ERROR, CLOSE_MODAL_WINDOW, OPEN_MODAL_WINDOW, CHANGE_VISIBILITY_SIDEBAR } from './actionTypes';\r\n\r\n\r\nexport function catchError ( module, fn = '', msg ) {\r\n  console.log ( `MODULE: ${ module } \r\n                FUNCTION: ${ fn } \r\n                MSG: ${ msg }` );\r\n  return {\r\n    type : CATCH_ERROR,\r\n    module,\r\n    fn,\r\n    msg\r\n  }\r\n}\r\n\r\nexport function showModalInformation ( msg ) {\r\n  return dispatch => {\r\n    try {\r\n      const options = {\r\n        isShow : true,\r\n        id : 'modalInformation',\r\n        type : 'Information',\r\n        title : 'Информация',\r\n        text : msg\r\n      };\r\n      dispatch ( openModalWindow ( options ) );\r\n    } catch ( e ) {\r\n      dispatch ( catchError ( 'commonAction', 'showModalInformation', e ) );\r\n    }\r\n  }\r\n}\r\n\r\nexport function showModalError ( msg ) {\r\n  return dispatch => {\r\n    try {\r\n      const options = {\r\n        isShow : true,\r\n        id : 'modalShowError',\r\n        type : 'Error',\r\n        title : 'Ошибка',\r\n        text : msg\r\n      };\r\n      dispatch ( openModalWindow ( options ) );\r\n    } catch ( e ) {\r\n      dispatch ( catchError ( 'commonAction', 'showModalError', e ) );\r\n    }\r\n  }\r\n}\r\n\r\nexport function showModalConfirmation ( msg ) {\r\n  return dispatch => {\r\n    try {\r\n      const options = {\r\n        isShow : true,\r\n        id : 'modalShowConfirmation',\r\n        type : 'Confirmation',\r\n        title : 'Подтверждение',\r\n        text : msg\r\n      };\r\n      dispatch ( openModalWindow ( options ) );\r\n    } catch ( e ) {\r\n      dispatch ( catchError ( 'commonAction', 'showModalConfirmation', e ) );\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function openModalWindow ( options ) {\r\n  return dispatch => {\r\n    try {\r\n\r\n      dispatch ( openModalWindowSuccess ( options ) )\r\n    } catch ( e ) {\r\n      dispatch ( catchError ( 'Layout', 'openModalWindow', e ) )\r\n    }\r\n  }\r\n}\r\n\r\nexport function openModalWindowSuccess ( payload ) {\r\n  return {\r\n    type : OPEN_MODAL_WINDOW,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function closeModalWindow () {\r\n  return {\r\n    type : CLOSE_MODAL_WINDOW\r\n  }\r\n}\r\n\r\nexport function changeVisibilitySideBar(bool) {\r\n  return {\r\n    type : CHANGE_VISIBILITY_SIDEBAR,\r\n    bool\r\n  }\r\n}\r\n","//GOOD\r\nexport const FETCH_ALL_GOODS = 'FETCH_ALL_GOODS';\r\nexport const INIT_CREATE_NEW_CATEGORY = 'INIT_CREATE_NEW_CATEGORY';\r\nexport const FETCH_NEW_CATEGORY_AFTER_CREATE = 'FETCH_NEW_CATEGORY_AFTER_CREATE';\r\nexport const FETCH_LIST_CATEGORY = 'FETCH_LIST_CATEGORY';\r\nexport const SEARCH_FOR_EDITOR_SHEET = 'SEARCH_FOR_EDITOR_SHEET';\r\nexport const SET_GOOD_FOR_EDIT = 'SET_GOOD_FOR_EDIT';\r\nexport const FETCH_FILTER_GOODS_BY_CATEGORY = 'FETCH_FILTER_GOODS_BY_CATEGORY';\r\nexport const INIT_GOOD_FOR_EDIT = 'INIT_GOOD_FOR_EDIT';\r\n\r\nexport const SET_MIN_MAX_PRICE_OF_GOOD = 'SET_MIN_MAX_PRICE_OF_GOOD';\r\nexport const SET_PRICE_FOR_SEARCH = 'SET_PRICE_FOR_SEARCH';\r\nexport const FETCH_TAGS_FOR_SEARCH_GOODS = 'FETCH_TAGS_FOR_SEARCH_GOODs';\r\nexport const CHANGE_CURRENT_PAGINATION_PAGE = 'CHANGE_CURRENT_PAGINATION_PAGE';\r\nexport const SET_TAGS_FOR_SEARCH = 'SET_TAGS_FOR_SEARCH';\r\nexport const INIT_AVERAGE_PRICE = 'INIT_AVERAGE_PRICE';\r\nexport const GET_GOOD_BY_ID = 'GET_GOOD_BY_ID';\r\n\r\n\r\n\r\n//******\r\nexport const ADD_CATEGORY_FOR_FILTER = 'ADD_CATEGORY_FOR_FILTER';\r\nexport const ADD_PRICE_FOR_FILTER = 'ADD_PRICE_FOR_FILTER';\r\nexport const ADD_TAG_FOR_FILTER = 'ADD_TAG_FOR_FILTER';\r\nexport const INIT_ALL_FILTER = 'INIT_ALL_FILTER';\r\nexport const CHANGE_TYPE_ORDER_BY = 'CHANGE_TYPE_ORDER_BY';\r\n\r\n\r\n//LAYOUT\r\nexport const CATCH_ERROR = 'CATCH_ERROR';\r\nexport const CLOSE_MODAL_WINDOW = 'CLOSE_MODAL_WINDOW';\r\nexport const OPEN_MODAL_WINDOW = 'OPEN_MODAL_WINDOW';\r\nexport const CHANGE_VISIBILITY_SIDEBAR = 'CHANGE_VISIBILITY_SIDEBAR';\r\n\r\n//User_AUTH\r\n\r\nexport const IS_SHOW_AUTH = 'IS_SHOW_AUTH';\r\nexport const FETCH_DATA_AUTH_USER = 'FETCH_DATA_AUTH_USER';\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\n//CART\r\nexport const FETCH_USER_CART = 'FETCH_USER_CART';\r\nexport const ADD_ITEM_TO_CART = 'ADD_ITEM_TO_CART';\r\nexport const DEL_ITEM_FROM_CART = 'DEL_ITEM_FROM_CART';\r\nexport const CREATE_ORDER = 'CREATE_ORDER';\r\nexport const FETCH_LAST_NOT_COMPLETE_CART = 'FETCH_LAST_NOT_COMPLETE_CART';\r\nexport const INIT_CART_FOR_THE_NEXT_SHOP = 'INIT_CART_FOR_THE_NEXT_SHOP';\r\nexport const FETCH_CART_BY_ID = 'FETCH_CART_BY_ID';\r\nexport const INIT_GET_GOOD_BY_ID = 'INIT_GET_GOOD_BY_ID';\r\n\r\n\r\n//USER\r\nexport const FETCH_ALL_USERS = 'FETCH_ALL_USERS';\r\nexport const SET_SEARCH_STR = 'SET_SEARCH_STR';","import { FETCH_USER_CART, ADD_ITEM_TO_CART, DEL_ITEM_FROM_CART, CREATE_ORDER, FETCH_LAST_NOT_COMPLETE_CART, FETCH_CART_BY_ID } from '../actions/actionTypes';\r\n\r\nimport axiosCustom from \"../../config/axios\";\r\nimport { catchError, showModalError, showModalInformation } from \"./layoutAction\";\r\nimport { checkUserToken } from \"./authAction\";\r\nimport { INIT_CART_FOR_THE_NEXT_SHOP } from \"./actionTypes\";\r\n\r\nfunction axiosQuery ( query ) {\r\n  // console.log ( query );\r\n  return axiosCustom ( {\r\n    data : { query }\r\n  } );\r\n}\r\n\r\nexport function addItemToCart ( item, options ) {\r\n  return async ( dispatch ) => {\r\n    const { needMessage } = options;\r\n    const userToken = localStorage.getItem ( \"token\" );\r\n    // console.log ( userToken, item );\r\n    const query = `mutation {\r\n                          addNewGoodInCart(userToken: \"${ userToken }\", goodId: \"${ item }\") {\r\n                            _id\r\n                            login\r\n                          }\r\n                        }`;\r\n    // console.log ( query );\r\n\r\n    await axiosQuery ( query )\r\n        .then ( res => {\r\n              dispatch ( checkUserToken () );\r\n\r\n              if ( needMessage ) {\r\n                dispatch ( showModalInformation ( 'Товар добавлен в корзину' ) )\r\n              }\r\n\r\n            }\r\n        )\r\n        .catch ( e => {\r\n          dispatch ( catchError ( 'cartAction', 'addItemToCart', e ) )\r\n        } )\r\n  }\r\n}\r\n\r\nexport function subItemFromCart ( item ) {\r\n  return async ( dispatch ) => {\r\n    const userToken = localStorage.getItem ( \"token\" );\r\n    const query = `mutation {\r\n                              subItemFromGood(userToken: \"${ userToken }\", goodId: \"${ item }\") {\r\n                                _id\r\n                                login\r\n                                cart {\r\n                                  _id\r\n                                  itemsGood {\r\n                                    _id\r\n                                    qty\r\n                                    price\r\n                                    good {\r\n                                      _id\r\n                                      name\r\n                                      price\r\n                                    }\r\n                                  }\r\n                                }\r\n                              }\r\n                            }`;\r\n\r\n    await axiosQuery ( query )\r\n        .then ( res => {\r\n              console.log ( 'res', res.data.data.subItemFromGood );\r\n              dispatch ( checkUserToken () );\r\n            }\r\n        )\r\n        .catch ( e => {\r\n          dispatch ( catchError ( 'cartAction', 'subItemFromCart', e ) )\r\n        } )\r\n  }\r\n}\r\n\r\nexport function delItemFromCart ( item ) {\r\n  return async ( dispatch ) => {\r\n    const { id, needMessage } = item;\r\n    const userToken = localStorage.getItem ( \"token\" );\r\n    const query = `mutation {\r\n                              delItemFromCart(userToken: \"${ userToken }\", goodId: \"${ id }\") {\r\n                                _id\r\n                                login\r\n                                cart {\r\n                                  _id\r\n                                  itemsGood {\r\n                                    _id\r\n                                    qty\r\n                                    price\r\n                                    good {\r\n                                      _id\r\n                                      name\r\n                                      price\r\n                                    }\r\n                                  }\r\n                                }\r\n                              }\r\n                            }`;\r\n\r\n    await axiosQuery ( query )\r\n        .then ( res => {\r\n              // console.log ( 'res', res.data.data.delItemFromCart );\r\n              dispatch ( checkUserToken () );\r\n\r\n              if ( needMessage ) {\r\n                dispatch ( showModalInformation ( 'Товар удален из корзины корзину' ) )\r\n              }\r\n            }\r\n        )\r\n        .catch ( e => {\r\n          dispatch ( catchError ( 'cartAction', 'delItemFromCart', e ) )\r\n        } )\r\n  }\r\n}\r\n\r\nexport function fetchUserCart ( userId ) {\r\n  return async ( dispatch, getState ) => {\r\n    let userSrt = '';\r\n\r\n    if ( userId ) {\r\n      userSrt = userId;\r\n    } else {\r\n      userSrt = await getState ().authReducer.user._id;\r\n    }\r\n\r\n\r\n    const query = `{\r\n                    getCartUser (userId : \"${ userSrt }\") {\r\n                      _id\r\n                      login\r\n                      cart {\r\n                        _id\r\n                        orderDate\r\n                        orderStatus\r\n                        itemsGood {\r\n                          good {\r\n                             _id\r\n                            name\r\n                            img\r\n                             tag\r\n                          }\r\n                          qty\r\n                          price\r\n                        }\r\n                      }\r\n                    }\r\n                  }`;\r\n    await axiosQuery ( query )\r\n        .then ( res => {\r\n          const allCart = res.data.data.getCartUser;\r\n          if ( allCart.length > 0 ) {\r\n            dispatch ( fetchUserCartSuccess ( allCart ) );\r\n\r\n            const cart = allCart[ 0 ].cart.filter ( c => c.orderStatus === 0 )[ 0 ];\r\n            if ( cart ) {\r\n              dispatch ( fetchLastNotCompleteCart ( cart ) );\r\n            }\r\n          } else {\r\n            dispatch ( showModalError ( 'Ошибка авторизации!' ) )\r\n          }\r\n        } )\r\n        .catch ( e => {\r\n          dispatch ( catchError ( 'cartAction', 'fetchUserCart', e ) )\r\n        } )\r\n  }\r\n}\r\n\r\nexport function fetchUserCartSuccess ( payload ) {\r\n  return {\r\n    type : FETCH_USER_CART,\r\n    payload\r\n  }\r\n\r\n}\r\n\r\nexport function fetchLastNotCompleteCart ( payload ) {\r\n  return {\r\n    type : FETCH_LAST_NOT_COMPLETE_CART,\r\n    payload\r\n  }\r\n}\r\n\r\n//CHECKOUT\r\nexport function filterCartById ( id ) {\r\n  return async ( dispatch ) => {\r\n    try {\r\n      const query = `{\r\n                      getCartById(cartId: \"${ id }\") {\r\n                        _id\r\n                        itemsGood {\r\n                          _id\r\n                          good {\r\n                            _id\r\n                            name\r\n                            img\r\n                            price\r\n                            oldPrice\r\n                          }\r\n                          qty\r\n                          price\r\n                        }\r\n                        orderDate\r\n                        orderStatus\r\n                      }\r\n                    }`;\r\n\r\n      await axiosQuery ( query )\r\n          .then ( res => {\r\n            const cart = res.data.data.getCartById;\r\n            if ( cart ) {\r\n              dispatch ( filterCartByIdSuccess ( cart ) );\r\n            } else {\r\n              dispatch ( showModalError ( 'Произошла ошибка при получении корзины' ) )\r\n            }\r\n          } )\r\n          .catch ( e => {\r\n            dispatch ( catchError ( 'cartAction', 'fetchUserCart', e ) )\r\n          } )\r\n    } catch ( e ) {\r\n      dispatch ( catchError ( 'cartAction', 'filterCartById', e ) )\r\n    }\r\n  }\r\n}\r\n\r\nexport function filterCartByIdSuccess ( payload ) {\r\n  return {\r\n    type : FETCH_CART_BY_ID,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function changeOrderStatus ( cartId, status ) {\r\n  return async dispatch => {\r\n\r\n    const query = `mutation{\r\n                            changeStatusUserCart(cartId :\"${ cartId }\", status : ${ status }){\r\n                              _id\r\n                              itemsGood {\r\n                                _id\r\n                                good{\r\n                                  _id\r\n                                  name\r\n                                  img\r\n                                  price\r\n                                }\r\n                                qty\r\n                                price\r\n                              }\r\n                              orderDate\r\n                              orderStatus    \r\n                            }\r\n                          }`;\r\n    await axiosQuery ( query )\r\n        .then ( res => {\r\n          const cart = res.data.data.changeStatusUserCart;\r\n          console.log ( 'cart', cart );\r\n          if ( cart ) {\r\n            if ( status === 1 ) {\r\n              dispatch ( initCartForTheNextShopSuccess () );\r\n              dispatch ( showModalInformation ( 'You have successfully placed new order. We will contact you as soon as we can.' ) )\r\n            }\r\n            dispatch ( filterCartByIdSuccess ( cart ) );\r\n\r\n            if (status === 2) {\r\n              dispatch ( showModalInformation ( 'You have successfully sending order to the buyer.' ) )\r\n            }\r\n\r\n          } else {\r\n            dispatch ( showModalError ( 'Произошла ошибка при получении корзины' ) )\r\n          }\r\n        } )\r\n        .catch ( e => {\r\n          dispatch ( catchError ( 'cartAction', 'fetchUserCart', e ) )\r\n        } )\r\n  }\r\n}\r\n\r\nexport function initCartForTheNextShopSuccess () {\r\n  return {\r\n    type : INIT_CART_FOR_THE_NEXT_SHOP\r\n  }\r\n}\r\n","import {\r\n  FETCH_ALL_GOODS,\r\n  FETCH_LIST_CATEGORY,\r\n  INIT_CREATE_NEW_CATEGORY,\r\n  FETCH_NEW_CATEGORY_AFTER_CREATE,\r\n  SEARCH_FOR_EDITOR_SHEET,\r\n  SET_GOOD_FOR_EDIT,\r\n  FETCH_FILTER_GOODS_BY_CATEGORY,\r\n  INIT_GOOD_FOR_EDIT, SET_MIN_MAX_PRICE_OF_GOOD, SET_PRICE_FOR_SEARCH,\r\n  FETCH_TAGS_FOR_SEARCH_GOODS, CHANGE_CURRENT_PAGINATION_PAGE, SET_TAGS_FOR_SEARCH,\r\n  ADD_CATEGORY_FOR_FILTER,\r\n  ADD_PRICE_FOR_FILTER,\r\n  ADD_TAG_FOR_FILTER,\r\n  INIT_AVERAGE_PRICE,\r\n  INIT_ALL_FILTER,\r\n  CHANGE_TYPE_ORDER_BY,\r\n  GET_GOOD_BY_ID,\r\n  INIT_GET_GOOD_BY_ID\r\n} from './actionTypes';\r\nimport axios from 'axios';\r\nimport axiosCustom from '../../config/axios';\r\nimport { editorGoodURI } from '../../config/key';\r\nimport { catchError, showModalError, showModalInformation } from \"./layoutAction\";\r\nimport moment from 'moment';\r\n\r\nfunction axiosQuery ( query ) {\r\n  // console.log ( query )\r\n  return axiosCustom ( {\r\n    data : { query }\r\n  } );\r\n}\r\n\r\n\r\nexport function initCreateNewCategory () {\r\n  return {\r\n    type : INIT_CREATE_NEW_CATEGORY\r\n  }\r\n}\r\n\r\nexport function fetchNewCategoryAfterCreate ( payload ) {\r\n  return {\r\n    type : FETCH_NEW_CATEGORY_AFTER_CREATE,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function editCategory ( type, _id, newCategory ) {\r\n  return async ( dispatch ) => {\r\n\r\n    let query;\r\n    dispatch ( initCreateNewCategory () );\r\n    switch ( type ) {\r\n      case 'add' : {\r\n        query = `mutation {\r\n                  addNewCategory(name: \"${ newCategory }\") {\r\n                    _id\r\n                    name\r\n                  }\r\n                }`;\r\n        break;\r\n      }\r\n      case 'del' : {\r\n        query = `mutation {\r\n                  deleteCategory(_id: \"${ _id }\") {\r\n                    _id\r\n                    name\r\n                  }\r\n                }`;\r\n        break;\r\n      }\r\n      case 'edit' : {\r\n        query = `mutation {\r\n                  editCategory(_id : \"${ _id }\", name : \"${ newCategory }\") {\r\n                    _id\r\n                    name\r\n                  }\r\n                }`;\r\n        break;\r\n      }\r\n    }\r\n\r\n\r\n    await axiosQuery ( query )\r\n        .then ( res => {\r\n          const response = ( res.data.data.addNewCategory ) ? res.data.data.addNewCategory : res.data.data.editCategory;\r\n          dispatch ( fetchNewCategoryAfterCreate ( response ) );\r\n          dispatch ( fetchCategoryOfGood () );\r\n        } )\r\n        .catch ( e => {\r\n          dispatch ( catchError ( 'goodAction', 'editCategory', e ) )\r\n        } )\r\n\r\n  }\r\n}\r\n\r\nexport function editorGood ( data, img, options ) {\r\n  return async dispatch => {\r\n    console.log ( options );\r\n    const { isReloadImg, typeMutation } = options;\r\n    let query = '';\r\n    const tags = data.tags.split ( ',' ).map ( t => t.trim ().toLowerCase () );\r\n\r\n    if ( typeMutation === 'add' ) {\r\n      query = `mutation {\r\n                      addNewGood(\r\n                        name: \"${ data.name }\",\r\n                        price :${ data.price },\r\n                        itemShortDescription: \"\"\"${ data.shortDescription }\"\"\",\r\n                        isActive : ${ data.isActive },\r\n                        category : \"${ data.category || \"5f4d8b82923d4c3d90a784f5\" }\",\r\n                        tag : [${ tags.map ( t => `\"${ t }\"` ) }],\r\n                        descriptionTitle :\"\"\"${ data.descriptionTitle }\"\"\",\r\n                        descriptionText :\"\"\"${ data.fullDescription }\"\"\"\r\n                      ) {\r\n                        _id\r\n                        name\r\n                      }\r\n                    }`;\r\n      await axiosQuery ( query )\r\n          .then ( res => {\r\n            const response = ( res.data.data.addNewGood ) ? res.data.data.addNewGood : \"\";\r\n            if ( response._id ) {\r\n              dispatch ( addGoodsImg ( response._id, img, response.name ) );\r\n            } else {\r\n              dispatch ( showModalError ( 'Произошла ошибка при добавлении товара' ) );\r\n            }\r\n          } ).catch ( e => {\r\n            dispatch ( catchError ( 'goodAction', 'addNewGood', e ) )\r\n          } );\r\n    } else {\r\n      const price = ( data.oldPrice !== data.price ) ? ` oldPrice :${ data.oldPrice }, price :${ data.price },` : ``;\r\n      query =\r\n          `mutation {\r\n                    editExistGood(\r\n                    _id : \"${ data._id }\",\r\n                    name: \"${ data.name }\",\r\n                    ${ price }\r\n                    itemShortDescription: \"\"\"${ data.shortDescription }\"\"\",\r\n                    isActive : ${ data.isActive },\r\n                    category : \"${ data.category || \"5f4d8b82923d4c3d90a784f5\" }\",\r\n                    tag : [${ tags.map ( t => `\"${ t }\"` ) }],\r\n                    descriptionTitle :\"\"\"${ data.descriptionTitle }\"\"\",\r\n                    descriptionText :\"\"\"${ data.fullDescription }\"\"\"\r\n                    ) {\r\n                    _id\r\n                    name\r\n                    }                    }`;\r\n      await axiosQuery ( query )\r\n          .then ( res => {\r\n            const response = ( res.data.data.editExistGood ) ? res.data.data.editExistGood : \"\";\r\n            if ( response._id ) {\r\n              if ( isReloadImg ) {\r\n                dispatch ( addGoodsImg ( response._id, img, response.name ) )\r\n              } else dispatch ( showModalInformation (\r\n                  `Товар \"${ response.name }\" успешно изменен!`\r\n              ) );\r\n            } else {\r\n              dispatch ( showModalError ( 'Произошла ошибка при добавлении товара' ) );\r\n            }\r\n          } ).catch ( e => {\r\n            dispatch ( catchError ( 'goodAction', 'editExistGood', e ) )\r\n          } );\r\n    }\r\n\r\n\r\n    console.log ( 'query', query );\r\n\r\n\r\n  }\r\n}\r\n\r\nexport function addGoodsImg ( _id, img, name ) {\r\n  return async dispatch => {\r\n    console.log ( 'addGoodsImg._id', _id );\r\n    img.append ( '_id', _id );\r\n    await axios.post ( editorGoodURI, img )\r\n        .then ( function ( response ) {\r\n          //handle success\r\n          dispatch ( updateGoodImage ( _id, response.data.nameImg, name ) )\r\n\r\n        } )\r\n        .catch ( function ( response ) {\r\n          //handle error\r\n          dispatch ( catchError ( 'goodAction', 'addGoodsImg', response ) )\r\n        } );\r\n  }\r\n}\r\n\r\nexport function updateGoodImage ( _id, img, name ) {\r\n  return async dispatch => {\r\n    console.log ( '_id', _id, 'img', img );\r\n    let query =\r\n        `mutation {\r\n    updateImgForGood(\r\n    _id: \"${ _id }\",\r\n    img : \"${ img }\"\r\n    ) {\r\n    _id\r\n    name\r\n    img\r\n    }\r\n    }`\r\n    ;\r\n    // const res = await axiosCustom ( {\r\n    //   data : { query }\r\n    // } );\r\n    await axiosQuery ( query )\r\n        .then ( res => {\r\n          const response = ( res.data.data.updateImgForGood ) ? res.data.data.updateImgForGood : \"\";\r\n          console.log ( 'responseAfterImg', response );\r\n          dispatch ( showModalInformation (\r\n              `Товар \"${ name }\" успешно добавлен (изменен)!`\r\n          ) );\r\n        } )\r\n        .catch ( e => {\r\n              dispatch ( catchError ( 'goodAction', 'updateGoodImage', e ) )\r\n            }\r\n        );\r\n  }\r\n}\r\n\r\nexport function searchForEditorSheet ( name ) {\r\n  return async dispatch => {\r\n    const query =\r\n        `{\r\n    searchNameGood (name : \"${ name }\") {\r\n    _id\r\n    name\r\n    img\r\n    price\r\n    oldPrice\r\n    itemShortDescription\r\n    category {\r\n    _id\r\n    name\r\n    }\r\n    isActive\r\n    tag\r\n    descriptionTitle\r\n    descriptionText\r\n    review {\r\n    title\r\n    reviewText\r\n    rating\r\n    dateInsert\r\n    user{\r\n    _id\r\n    login\r\n    permission\r\n    name\r\n    email\r\n  \r\n    addressDelivery\r\n    }\r\n    }\r\n    }\r\n    }`\r\n    ;\r\n    await axiosQuery ( query )\r\n        .then ( res => dispatch ( searchForEditorSheetSuccess ( res.data.data.searchNameGood ) ) )\r\n        .catch ( e => dispatch ( catchError ( 'goodAction', 'searchForEditorSheet', e ) ) )\r\n  }\r\n}\r\n\r\nexport function searchForEditorSheetSuccess ( payload ) {\r\n  return {\r\n    type : SEARCH_FOR_EDITOR_SHEET,\r\n    payload\r\n  }\r\n\r\n}\r\n\r\n//Очищаем поиск если он уже осуществлялся, для повторного действия\r\nexport function initialGoodForEdit () {\r\n  return {\r\n    type : INIT_GOOD_FOR_EDIT\r\n  }\r\n}\r\n\r\nexport function setGoodForEdit ( id ) {\r\n  return ( dispatch, getState ) => {\r\n    try {\r\n      const searchItem = getState ().goodReducer.search.searchListOfGoods.filter ( i => i._id === id );\r\n      dispatch ( setGoodForEditSuccess ( ...searchItem ) );\r\n    } catch ( e ) {\r\n      dispatch ( catchError ( 'goodAction', 'setGoodForEdit', e ) )\r\n    }\r\n  }\r\n}\r\n\r\nexport function setGoodForEditSuccess ( payload ) {\r\n  return {\r\n    type : SET_GOOD_FOR_EDIT,\r\n    payload\r\n\r\n  }\r\n}\r\n\r\nexport function setTagsForSearch ( listOfGood ) {\r\n  return dispatch => {\r\n    try {\r\n      let tags = new Set ();\r\n      listOfGood.forEach ( i => {\r\n        //console.log ( 'i', i )\r\n        i.tag.forEach ( t => {\r\n              //   console.log ( 'tag', t )\r\n              tags.add ( t );\r\n            }\r\n        )\r\n      } );\r\n\r\n      let newTags = [];\r\n      for ( let value of tags ) newTags = [...newTags, value];\r\n      dispatch ( setTagsForSearchSuccess ( newTags ) );\r\n\r\n    } catch ( e ) {\r\n      dispatch ( catchError ( 'goodAction', 'setTagsForSearch', e ) )\r\n    }\r\n  }\r\n}\r\n\r\nexport function setTagsForSearchSuccess ( payload ) {\r\n  return {\r\n    type : SET_TAGS_FOR_SEARCH,\r\n    payload\r\n  }\r\n\r\n}\r\n\r\n//Получение списка товаров\r\nexport function fetchAllGoods () {\r\n  return async dispatch => {\r\n    const query = `{\r\n                    filterGoods(filterName: \"category\") {\r\n                      _id\r\n                      name\r\n                      img\r\n                      price\r\n                      oldPrice\r\n                      itemShortDescription\r\n                      category {\r\n                        _id\r\n                        name\r\n                      }\r\n                      isActive\r\n                      tag\r\n                      descriptionTitle\r\n                      descriptionText\r\n                      review {\r\n                        title\r\n                        reviewText\r\n                        rating\r\n                        dateInsert\r\n                        user {\r\n                          _id\r\n                          name\r\n                        }\r\n                      }\r\n                    }\r\n                  }`;\r\n\r\n    await axiosQuery ( query )\r\n        .then ( res => {\r\n          dispatch ( getAllGoodsSuccess ( res.data.data.filterGoods ) );\r\n          dispatch ( filterGoodsByCategorySuccess ( res.data.data.filterGoods ) );\r\n          dispatch ( setMinMaxPriceOfGoods ( res.data.data.filterGoods ) );\r\n          dispatch ( setTagsForSearch ( res.data.data.filterGoods ) )\r\n        } )\r\n        .catch ( e => dispatch ( catchError ( 'goodAction', 'fetchAllGoods', e ) ) )\r\n  }\r\n}\r\n\r\n//Получение списка товаров по категории\r\nexport function filterGoodsByCategory ( _id ) {\r\n  return async dispatch => {\r\n\r\n    const query = `{\r\n                    filterGoods(filterName: \"category\", categoryId: \"${ _id }\") {\r\n                      _id\r\n                      name\r\n                      img\r\n                      price\r\n                      oldPrice\r\n                      itemShortDescription\r\n                      category {\r\n                        _id\r\n                        name\r\n                      }\r\n                      isActive\r\n                      tag\r\n                      descriptionTitle\r\n                      descriptionText\r\n                      review {\r\n                        title\r\n                        reviewText\r\n                        rating\r\n                        dateInsert\r\n                        user {\r\n                          _id\r\n                          name\r\n                        }\r\n                      }\r\n                    }\r\n                  } `;\r\n\r\n    await axiosQuery ( query )\r\n        .then ( res => {\r\n\r\n          dispatch ( filterGoodsByCategorySuccess ( res.data.data.filterGoods, _id ) );\r\n          dispatch ( setMinMaxPriceOfGoods ( res.data.data.filterGoods ) );\r\n          dispatch ( setTagsForSearch ( res.data.data.filterGoods ) )\r\n        } )\r\n        .catch ( e => dispatch ( catchError ( 'goodAction', 'filterGoodsByCategory', e ) ) )\r\n  }\r\n}\r\n\r\nexport function filterGoodsByCategorySuccess ( payload, categoryId ) {\r\n  return {\r\n    type : FETCH_FILTER_GOODS_BY_CATEGORY,\r\n    categoryId,\r\n    payload\r\n  }\r\n}\r\n\r\n\r\n// export function filterByTag ( tag ) {\r\n//   return async ( dispatch, getState ) => {\r\n//     try {\r\n//       const listOfGood = getState ().goodReducer.listOfGood;\r\n//\r\n//       const newSearchGoods = listOfGood.filter ( i => {\r\n//         return i.tag.indexOf ( tag ) !== -1\r\n//       } );\r\n//\r\n//       await dispatch ( changePaginationCurrentPages ( 1 ) );\r\n//       await dispatch ( setMinMaxPriceOfGoods ( newSearchGoods ) );\r\n//       await dispatch ( filterGoodsByCategorySuccess ( newSearchGoods ) );\r\n//\r\n//     } catch ( e ) {\r\n//       dispatch ( catchError ( 'goodAsction', 'filterByTag', e ) )\r\n//     }\r\n//   }\r\n// }\r\n//\r\n// export function filterByPrice () {\r\n//   return async ( dispatch, getState ) => {\r\n//     try {\r\n//       const price = getState ().goodReducer.search.priceForSearch;\r\n//       const query = `{\r\n//                     filterGoods(filterName: \"price\", priceMin: ${ price.min }, priceMax : ${ price.max }) {\r\n//                       _id\r\n//                       name\r\n//                       img\r\n//                       price\r\n//                       oldPrice\r\n//                       itemShortDescription\r\n//                       category {\r\n//                         _id\r\n//                         name\r\n//                       }\r\n//                       isActive\r\n//                       tag\r\n//                       descriptionTitle\r\n//                       descriptionText\r\n//                       review {\r\n//                         title\r\n//                         reviewText\r\n//                         rating\r\n//                         dateInsert\r\n//                         user {\r\n//                           _id\r\n//                           name\r\n//                         }\r\n//                       }\r\n//                     }\r\n//                   } `;\r\n//\r\n//\r\n//       await axiosQuery ( query )\r\n//           .then ( res => {\r\n//\r\n//             dispatch ( filterGoodsByCategorySuccess ( res.data.data.filterGoods ) );\r\n//             dispatch ( setMinMaxPriceOfGoods ( res.data.data.filterGoods ) );\r\n//             dispatch ( setTagsForSearch ( res.data.data.filterGoods ) );\r\n//             dispatch ( changePaginationCurrentPages ( 1 ) );\r\n//           } )\r\n//           .catch ( e => dispatch ( catchError ( 'goodAction', 'filterGoodsByCategory', e ) ) );\r\n//\r\n//       // await dispatch ( setMinMaxPriceOfGoods ( newSearchGoods ) );\r\n//\r\n//\r\n//     } catch ( e ) {\r\n//       dispatch ( catchError ( 'goodAction', 'filterByPrice', e ) )\r\n//     }\r\n//   }\r\n// }\r\n\r\nexport function changePaginationCurrentPages ( payload ) {\r\n  return {\r\n    type : CHANGE_CURRENT_PAGINATION_PAGE,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function addCategoryForFilter ( payload ) {\r\n  return {\r\n    type : ADD_CATEGORY_FOR_FILTER,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function addTagsForFilter ( payload ) {\r\n  return {\r\n    type : ADD_TAG_FOR_FILTER,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function setMinMaxPriceOfGoods ( listOfGood ) {\r\n  return dispatch => {\r\n    try {\r\n      const filterListOfGood = listOfGood.filter ( i => i.isActive );\r\n\r\n      if ( filterListOfGood.length === 0 ) return;\r\n      let price;\r\n      if ( filterListOfGood.length > 0 ) {\r\n        price = { min : filterListOfGood[ 0 ].price, max : filterListOfGood[ filterListOfGood.length - 1 ].price }\r\n      } else {\r\n        price = { min : listOfGood[ 0 ].price, max : listOfGood[ listOfGood.length - 1 ].price }\r\n      }\r\n\r\n      dispatch ( setMinMaxPriceOfGoodsSuccess ( price ) );\r\n      dispatch ( changePriceForSearch ( price ) );\r\n\r\n\r\n    } catch ( e ) {\r\n      dispatch ( catchError ( 'goodAction', 'setMinMaxPriceOfGoods', e ) )\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport function setMinMaxPriceOfGoodsSuccess ( payload ) {\r\n  return {\r\n    type : SET_MIN_MAX_PRICE_OF_GOOD,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function changePriceForSearch ( payload ) {\r\n  return {\r\n    type : SET_PRICE_FOR_SEARCH,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function fetchCategoryOfGood () {\r\n  return async dispatch => {\r\n    try {\r\n      const  query = `{\r\n                    getListOfCategory {\r\n                      _id\r\n                      name\r\n                    }\r\n                  }`;\r\n      await axiosQuery ( query )\r\n          .then ( res => {\r\n            const listCategory = res.data.data.getListOfCategory;\r\n            dispatch ( fetchCategoryOfGoodSuccess ( listCategory ) );\r\n          } )\r\n          .catch ( e => dispatch ( catchError ( 'goodAction', 'fetchCategoryOfGood', e ) ) )\r\n\r\n    } catch ( e ) {\r\n      console.log ( e );\r\n    }\r\n  }\r\n}\r\n\r\nexport function fetchCategoryOfGoodSuccess ( payload ) {\r\n  return {\r\n    type : FETCH_LIST_CATEGORY,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function filterGoods () {\r\n  return async ( dispatch, getState ) => {\r\n    try {\r\n      const { categoryId, priceForSearch, tag } = getState ().goodReducer.search;\r\n\r\n      let queryStr = '';\r\n\r\n\r\n      if ( categoryId && +categoryId !== 0 ) {\r\n        queryStr += `categoryId : \"${ categoryId }\",`\r\n      }\r\n\r\n      if ( priceForSearch ) {\r\n        queryStr += `priceMin : ${ priceForSearch.min }, priceMax : ${ priceForSearch.max },`;\r\n      }\r\n\r\n      if ( tag ) {\r\n        queryStr += `tag : \"${ tag }\",`\r\n      }\r\n\r\n      if ( queryStr !== '' ) {\r\n        queryStr = `(${ queryStr.slice ( 0, -1 ) })`\r\n      }\r\n\r\n\r\n      const query = `{\r\n                    filterGoods${ queryStr } {\r\n                      _id\r\n                      name\r\n                      img\r\n                      price\r\n                      oldPrice\r\n                      itemShortDescription\r\n                      category {\r\n                        _id\r\n                        name\r\n                      }\r\n                      dateInsert\r\n                      isActive\r\n                      tag\r\n                      descriptionTitle\r\n                      descriptionText\r\n                      review {\r\n                        title\r\n                        reviewText\r\n                        rating\r\n                        dateInsert\r\n                        user {\r\n                          _id\r\n                          name\r\n                        }\r\n                      }\r\n                    }\r\n                  } `;\r\n\r\n      await axiosQuery ( query )\r\n          .then ( async res => {\r\n            await dispatch ( getAllGoodsSuccess ( res.data.data.filterGoods ) );\r\n            await dispatch ( setMinMaxPriceOfGoods ( res.data.data.filterGoods ) );\r\n            await dispatch ( setTagsForSearch ( res.data.data.filterGoods ) );\r\n          } )\r\n          .catch ( e => dispatch ( catchError ( 'goodAction', 'filterGoods', e ) ) )\r\n\r\n    } catch ( e ) {\r\n      dispatch ( catchError ( 'goodAction', 'filterGoods', e ) )\r\n    }\r\n  }\r\n}\r\n\r\nexport function getAllGoodsSuccess ( payload ) {\r\n  return {\r\n    type : FETCH_ALL_GOODS,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function changeTypeOrderBy ( param ) {\r\n  return {\r\n    type : CHANGE_TYPE_ORDER_BY,\r\n    payload : param\r\n  }\r\n}\r\n\r\nexport function orderBy ( param ) {\r\n  return async ( dispatch, getState ) => {\r\n    try {\r\n\r\n\r\n      const listOfGood = getState ().goodReducer.listOfGood;\r\n      switch ( param ) {\r\n        case 'latest': {\r\n          listOfGood.sort ( function ( a, b ) {\r\n            if ( moment ( a.dateInsert ) > moment ( b.dateInsert ) ) {\r\n              return -1;\r\n            }\r\n            if ( moment ( a.dateInsert ) < moment ( b.dateInsert ) ) {\r\n              return 1;\r\n            }\r\n            // a должно быть равным b\r\n            return 0;\r\n          } );\r\n          break;\r\n        }\r\n        case 'price low to high' : {\r\n          listOfGood.sort ( function ( a, b ) {\r\n            if ( a.price < b.price ) {\r\n              return -1;\r\n            }\r\n            if ( a.price > b.price ) {\r\n              return 1;\r\n            }\r\n            // a должно быть равным b\r\n            return 0;\r\n          } );\r\n          break;\r\n        }\r\n        case 'price high to low' : {\r\n          listOfGood.sort ( function ( a, b ) {\r\n            if ( a.price > b.price ) {\r\n              return -1;\r\n            }\r\n            if ( a.price < b.price ) {\r\n              return 1;\r\n            }\r\n            // a должно быть равным b\r\n            return 0;\r\n          } );\r\n          break;\r\n        }\r\n      }\r\n\r\n      await dispatch ( getAllGoodsSuccess ( listOfGood ) );\r\n      await dispatch ( changePaginationCurrentPages ( 0 ) );\r\n      await dispatch ( changePaginationCurrentPages ( 1 ) );\r\n\r\n    } catch ( e ) {\r\n      dispatch ( catchError ( 'goodAction', 'orderBy', e ) )\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function initAveragePrice () {\r\n  return {\r\n    type : INIT_AVERAGE_PRICE\r\n  }\r\n}\r\n\r\nexport function initAllFilter () {\r\n  return {\r\n    type : INIT_ALL_FILTER\r\n  }\r\n}\r\n\r\nexport function getGoodById ( id ) {\r\n  return async dispatch => {\r\n\r\n    const query = `{\r\n                      getGoodById(id: \"${ id }\") {\r\n                        _id\r\n                        name\r\n                        img\r\n                        price\r\n                        oldPrice\r\n                        itemShortDescription\r\n                        category {\r\n                          _id\r\n                          name\r\n                        }\r\n                        isActive\r\n                        tag\r\n                        descriptionTitle\r\n                        descriptionText\r\n                        review {\r\n                          title\r\n                          reviewText\r\n                          rating\r\n                          dateInsert\r\n                          user {\r\n                            _id\r\n                            login\r\n                            name\r\n                            email\r\n                          }\r\n                        }\r\n                      }\r\n                    }`;\r\n\r\n\r\n    await axiosQuery ( query )\r\n        .then ( res => {\r\n          const response = res.data.data.getGoodById;\r\n          dispatch ( getGoodByIdSuccess ( ...response ) );\r\n        } )\r\n        .catch ( e => {\r\n          dispatch ( catchError ( 'goodAction', 'editCategory', e ) )\r\n        } )\r\n  }\r\n}\r\n\r\nexport function getGoodByIdSuccess ( payload ) {\r\n  return {\r\n    type : GET_GOOD_BY_ID,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function initGetGoodById () {\r\n  return {\r\n    type : INIT_GET_GOOD_BY_ID\r\n  }\r\n}\r\n","import { IS_SHOW_AUTH, FETCH_DATA_AUTH_USER, LOGOUT } from './actionTypes';\r\nimport axiosCustom from \"../../config/axios\";\r\nimport { catchError, showModalError, showModalInformation } from \"./layoutAction\";\r\nimport { fetchUserCart, initCartForTheNextShopSuccess } from \"./cartAction\";\r\nimport axios from \"axios\";\r\nimport { editorGoodURI } from \"../../config/key\";\r\nimport { updateGoodImage } from \"./goodAction\";\r\n\r\nfunction axiosQuery ( query ) {\r\n  // console.log ( query )\r\n  return axiosCustom ( {\r\n    data : { query }\r\n  } );\r\n}\r\n\r\nexport function changeShowAuth () {\r\n  return {\r\n    type : IS_SHOW_AUTH\r\n  }\r\n}\r\n\r\nexport function checkUserToken () {\r\n  return async ( dispatch ) => {\r\n\r\n    const token = localStorage.getItem ( \"token\" );\r\n\r\n    if ( token ) {\r\n      const query = `{\r\n                    getUserByToken(token: \"${ token }\") {\r\n                      _id\r\n                      login\r\n                      permission\r\n                      sessionId\r\n                      name\r\n                      email\r\n                      addressDelivery\r\n                      isActivateAccount\r\n                    }\r\n                  }`;\r\n      await axiosQuery ( query )\r\n          .then ( res => {\r\n            if ( res.data.data.getUserByToken?._id ) {\r\n              dispatch ( authenticateUserSuccess ( res.data.data.getUserByToken ) );\r\n              localStorage.setItem ( 'token', res.data.data.getUserByToken.sessionId );\r\n              dispatch ( fetchUserCart ( res.data.data.getUserByToken._id ) )\r\n            } else {\r\n              dispatch ( showModalError ( 'Ошибка авторизации!' ) )\r\n            }\r\n          } )\r\n          .catch ( e => {\r\n            dispatch ( catchError ( 'goodAction', 'authenticateUser', e ) )\r\n          } )\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport function registerNewUser ( data ) {\r\n  return async dispatch => {\r\n    const query = `mutation {\r\n                    addNewUser (login : \"${ data.login }\", \r\n                      password :\"${ data.password }\", \r\n                      permission :1, \r\n                      name:\"${ data.name }\", \r\n                      email:\"${ data.email }\", \r\n                      addressDelivery:\"${ data.address }\"\r\n                    ) {\r\n                      _id\r\n                      login\r\n                      sessionId\r\n                    }\r\n                  }`;\r\n    await axiosQuery ( query )\r\n        .then ( res => {\r\n          if ( res.data.data.addNewUser._id ) {\r\n            dispatch ( showModalInformation ( 'Пользователь успешно добавлен!' ) )\r\n          } else {\r\n            dispatch ( showModalError ( 'Добавление пользователя прошло с ошибками, повторите процедуру позже.' ) )\r\n          }\r\n        } )\r\n        .catch ( e => {\r\n          dispatch ( catchError ( 'authAction', 'registerNewUser', e ) )\r\n        } )\r\n  }\r\n}\r\n\r\nexport function authenticateUser ( data ) {\r\n  return async dispatch => {\r\n    const query = `{\r\n                    authUser (login :\"${ data.login }\", password:\"${ data.password }\"){\r\n                      _id\r\n                      login\r\n                      permission\r\n                      sessionId\r\n                      name\r\n                      email\r\n                      addressDelivery\r\n                      isActivateAccount\r\n                  }}`;\r\n\r\n    await axiosQuery ( query )\r\n        .then ( res => {\r\n          // console.log ( 'res', res );\r\n          if ( res.data.data.authUser?._id ) {\r\n            dispatch ( authenticateUserSuccess ( res.data.data.authUser ) );\r\n            dispatch ( fetchUserCart ( res.data.data.authUser._id ) );\r\n            localStorage.setItem ( 'token', res.data.data.authUser.sessionId );\r\n          } else {\r\n            dispatch ( showModalError ( 'Ошибка авторизации!' ) )\r\n          }\r\n        } )\r\n        .catch ( e => {\r\n          dispatch ( catchError ( 'goodAction', 'authenticateUser', e ) )\r\n        } )\r\n  }\r\n}\r\n\r\nexport function authenticateUserSuccess ( payload ) {\r\n  return {\r\n    type : FETCH_DATA_AUTH_USER,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function logout () {\r\n  return async dispatch => {\r\n    const token = localStorage.getItem ( 'token' );\r\n    localStorage.removeItem ( 'token' );\r\n    const query = `{\r\n                    logoutUser (token :\"${ token }\"){\r\n                      _id\r\n                  }}`;\r\n\r\n    await axiosQuery ( query )\r\n        .then ( res => {\r\n          // console.log ( 'res', res );\r\n          if ( res.data.data.logoutUser ) {\r\n            dispatch ( logoutSuccess () );\r\n            dispatch ( initCartForTheNextShopSuccess () );\r\n            localStorage.removeItem ( 'token' );\r\n          } else {\r\n            dispatch ( showModalError ( 'Ошибка logout\\'a!' ) )\r\n          }\r\n        } )\r\n        .catch ( e => {\r\n          dispatch ( catchError ( 'authAction', 'logout', e ) )\r\n        } )\r\n  }\r\n}\r\n\r\nexport function logoutSuccess () {\r\n  return {\r\n    type : LOGOUT\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport validator from 'validator';\r\n\r\nexport const required = ( value ) => {\r\n  if ( !value.toString ().trim ().length ) {\r\n\r\n    // We can return string or jsx as the 'error' prop for the validated Component\r\n    return <span className=\"error\">Обязательный параметр</span>\r\n  }\r\n};\r\n\r\nexport const requiredSelectCategory = ( value ) => {\r\n  if ( value === '-1' ) {\r\n    // We can return string or jsx as the 'error' prop for the validated Component\r\n    return <span className=\"error\">Выберите категорию</span>\r\n  }\r\n};\r\n\r\nexport const number = ( value ) => {\r\n  if ( !validator.isCurrency ( value ) ) {\r\n    return <span className=\"error\">{ `\"${ value }\" не верный денежный формат.` }</span>\r\n  }\r\n};\r\n\r\nexport const email = ( value ) => {\r\n  if ( !validator.isEmail ( value ) ) {\r\n    return <span className=\"error\">{ `\"${ value }\" не валидный email.` }</span>\r\n  }\r\n};\r\n\r\nexport const lt = ( value, props ) => {\r\n  // get the maxLength from component's props\r\n  if ( !value.toString ().trim ().length > props.maxLength ) {\r\n    // Return jsx\r\n    return ( <span className=\"error\">The value exceeded { props.maxLength } symbols.</span> )\r\n  }\r\n};\r\n\r\nexport const password = ( value, props, components ) => {\r\n  // NOTE: Tricky place. The 'value' argument is always current component's value.\r\n  // So in case we're 'changing' let's say 'password' component - we'll compare it's value with 'confirm' value.\r\n  // But if we're changing 'confirm' component - the condition will always be true\r\n  // If we need to always compare own values - replace 'value' with components.password[0].value and make some magic with error rendering.\r\n  if ( value !== components[ 'confirm' ][ 0 ].value ) { // components['password'][0].value !== components['confirm'][0].value\r\n    // 'confirm' - name of input\r\n    // components['confirm'] - array of same-name components because of checkboxes and radios\r\n    return ( <span className=\"error\">Passwords are not equal.</span> )\r\n  }\r\n};","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport Form from 'react-validation/build/form';\r\nimport Input from 'react-validation/build/input';\r\nimport Button from 'react-validation/build/button';\r\nimport './Auth.scss';\r\nimport { authenticateUser, changeShowAuth, registerNewUser } from \"../../store/actions/authAction\";\r\nimport { email, required } from \"../../Admin/Validators\";\r\n\r\nclass Auth extends Component {\r\n  state = {\r\n    isShowReg : false,\r\n    isErrorComparePassword : false\r\n  };\r\n\r\n  closeAuth = ( e ) => {\r\n    e.preventDefault ();\r\n    this.props.changeShowAuth ()\r\n  };\r\n\r\n  handleClickBtnRegister = () => {\r\n    this.setState ( { isShowReg : !this.state.isShowReg } )\r\n  };\r\n\r\n  handleClickBtnAuth = () => {\r\n    this.setState ( { isShowReg : !this.state.isShowReg } )\r\n  };\r\n\r\n  onSubmitFormHandler = ( e ) => {\r\n    e.preventDefault ();\r\n    const formDataWithAttrName = Object.values ( { ...this.form } ).filter ( i => !!( i.name ) );\r\n    const formData = new FormData ();\r\n    const formDataFile = new FormData ();\r\n\r\n    formDataWithAttrName.forEach ( i => {\r\n\r\n      switch ( i.type ) {\r\n        case 'file':\r\n          for ( let idx = 0; idx <= i.files.length - 1; idx++ ) {\r\n            formDataFile.append ( 'file', i.files[ idx ] );\r\n          }\r\n          break;\r\n        case 'select-one' :\r\n          formData.append ( i.name, JSON.parse ( i.value )._id );\r\n          break;\r\n        case 'radio' :\r\n          if ( i.checked ) formData.append ( i.name, i.value );\r\n          break;\r\n        case 'checkbox':\r\n          formData.append ( i.name, i.checked );\r\n          break;\r\n        default : {\r\n          formData.append ( i.name, i.value );\r\n          break;\r\n        }\r\n      }\r\n    } );\r\n\r\n    //this.props.editorGood ( formData );\r\n\r\n\r\n    // // Display the key/value pairs]\r\n    let newGood = '';\r\n    for ( let key of formData.entries () ) {\r\n      newGood += `\"${ key[ 0 ] }\" : \"${ key[ 1 ].replace ( /\\n/g, \"\\\\n\" ) }\",`;\r\n      // console.log ( key[ 0 ] + ' : ' + key[ 1 ] );\r\n    }\r\n\r\n    const JSONparse = JSON.parse ( `{${ newGood.slice ( 0, -1 ) }}` );\r\n    //console.log ( JSONparse );\r\n\r\n    if ( e.target.dataset.typeBtn === 'auth' ) {\r\n      this.props.authenticateUser ( JSONparse );\r\n    } else {\r\n      this.props.registerNewUser ( JSONparse );\r\n    }\r\n\r\n    // this.clearForm ( e );\r\n  };\r\n\r\n  comparePassword = ( e ) => {\r\n    const pass = document.querySelector ( '.register .password' );\r\n    if ( pass.value !== e.target.value ) {\r\n      this.setState ( { isErrorComparePassword : true } )\r\n    } else {\r\n      this.setState ( { isErrorComparePassword : false } )\r\n    }\r\n  };\r\n\r\n  render () {\r\n    const { error } = this.props;\r\n    const { isShowReg, isErrorComparePassword } = this.state;\r\n\r\n    return (\r\n        <>\r\n          <div className=\"module-auth-backdrop\" onClick={ this.props.changeShowAuth }/>\r\n\r\n\r\n          {\r\n            ( !isShowReg )\r\n                ? <div className=\"auth-wrapper animate__backInUp animate__animated wow\">\r\n                  <Form>\r\n                    <form id={ 'formData' } className=\"auth\" ref={ el => ( this.form = el ) }>\r\n                      <span className=\"error\">{ error }</span>\r\n                      <h3>Authentication</h3>\r\n                      <label>\r\n                        Login:<span className=\"required-param\">*</span>\r\n                        <Input type=\"text\" name=\"login\" className=\"login\" validations={ [required] }/>\r\n                      </label>\r\n                      <label>\r\n                        Password:<span className=\"required-param\">*</span>\r\n                        <Input type=\"password\" name=\"password\" className=\"password\" validations={ [required] }/>\r\n                      </label>\r\n                      <div className=\"btn-wrapper\">\r\n                        <Button className=\"btn btn-auth-ok\" onClick={ this.onSubmitFormHandler } data-type-btn={ ( 'auth' ) }>Enter</Button>\r\n                        <button className=\"btn btn-auth-cancel\" onClick={ this.closeAuth }>Cancel</button>\r\n                        <span className=\"btn btn-register\" onClick={ this.handleClickBtnRegister }>Register</span>\r\n                      </div>\r\n                    </form>\r\n                  </Form>\r\n                </div>\r\n\r\n                //Register\r\n                : <div className=\"auth-wrapper animate__backInUp animate__animated wow\">\r\n                  <Form className=\"register\">\r\n                    <form id={ 'formData' } ref={ el => ( this.form = el ) }>\r\n                      <span className=\"error\">{ error }</span>\r\n                      <h3>Registration</h3>\r\n                      <label>\r\n                        Login:<span className=\"required-param\">*</span>\r\n                        <Input type=\"text\" name=\"login\" className=\"login\" validations={ [required] }/>\r\n                      </label>\r\n                      <label>\r\n                        Password:<span className=\"required-param\">*</span>\r\n                        <Input type=\"password\" name=\"password\" className=\"password\" validations={ [required] }/>\r\n                      </label>\r\n                      <label>\r\n                        Re-password:<span className=\"required-param\">*</span> {\r\n                        ( isErrorComparePassword ) ? <span className=\"error\">Пароли не совпадают</span> : <></>\r\n                      }\r\n                        <Input type=\"password\" name=\"password\" className=\"re-password\" validations={ [required] } onBlur={ this.comparePassword }/>\r\n\r\n                      </label>\r\n                      <label>\r\n                        Name:<span className=\"required-param\">*</span>\r\n                        <Input type=\"text\" name=\"name\" className=\"re-password\" validations={ [required] }/>\r\n                      </label>\r\n                      <label>\r\n                        Email:<span className=\"required-param\">*</span>\r\n                        <Input type=\"text\" name=\"email\" className=\"re-password\" validations={ [required, email] }/>\r\n                      </label>\r\n                      <label>\r\n                        Address:<span className=\"required-param\">*</span>\r\n                        <Input type=\"text\" name=\"address\" className=\"re-password\" validations={ [required] }/>\r\n                      </label>\r\n                      <div className=\"btn-wrapper\">\r\n                        <Button className=\"btn btn-auth-ok\" data-type-btn={ ( 'register' ) }\r\n                                onClick={ this.onSubmitFormHandler }>Enter</Button>\r\n                        <button className=\"btn btn-auth-cancel\" onClick={ this.closeAuth }>Cancel</button>\r\n                        <span className=\"btn btn-register\" onClick={ this.handleClickBtnAuth }>Login</span>\r\n                      </div>\r\n                    </form>\r\n                  </Form>\r\n                </div>\r\n          }\r\n\r\n\r\n        </>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    error : state.authReducer.error\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    changeShowAuth : () => dispatch ( changeShowAuth () ),\r\n    registerNewUser : ( data ) => dispatch ( registerNewUser ( data ) ),\r\n    authenticateUser : ( data ) => dispatch ( authenticateUser ( data ) )\r\n  }\r\n}\r\n\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( Auth );","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport './Navigation.scss';\r\nimport './Hamburger.scss';\r\n\r\nimport { changeShowAuth, checkUserToken, logout } from \"../../store/actions/authAction\";\r\nimport Auth from \"../Auth/Auth\";\r\nimport { changeVisibilitySideBar, openModalWindow } from \"../../store/actions/layoutAction\";\r\n\r\nclass Navigation extends Component {\r\n  state = {\r\n    showSearch : false,\r\n    showAuth : false\r\n  };\r\n\r\n\r\n  componentDidMount () {\r\n    this.props.checkUserToken ();\r\n  }\r\n\r\n  handlerChangeStateSearch = () => {\r\n    document.querySelector ( '.backdrop-search' ).classList.add ( 'active' );\r\n    this.setState ( { showSearch : !this.state.showSearch } );\r\n  };\r\n\r\n  handlerChangeAuth = () => {\r\n    this.setState ( { showAuth : !this.state.showAuth } );\r\n  };\r\n\r\n  closeBackdrop = () => {\r\n    this.setState ( { showSearch : false } );\r\n    document.querySelector ( '.backdrop-search' ).classList.remove ( 'active' );\r\n  };\r\n\r\n  handleStartSearch = ( e ) => {\r\n    if ( e.key === 'Enter' ) {\r\n      console.log ( 'начался поиск!' );\r\n      this.closeBackdrop ();\r\n    }\r\n  };\r\n\r\n  authForm = () => {\r\n    if ( !this.props.isAuth ) {\r\n      this.props.changeShowAuth ();\r\n      this.props.changeVisibilitySideBar(false);\r\n    }\r\n  };\r\n\r\n  logout = () => {\r\n    const options = {\r\n      id : 'modalQuestBeforeDeleteOrder',\r\n      type : 'Confirmation',\r\n      title : \"Подтверждение\",\r\n      text : `Are you confirm logout?`,\r\n      fnAgree : this.logoutRefresh,\r\n    };\r\n    this.props.openModalWindow ( options );\r\n  };\r\n\r\n  logoutRefresh = () => {\r\n    this.props.logout ();\r\n    this.props.changeVisibilitySideBar(false);\r\n  };\r\n\r\n  toggleBurgerMenu = ( e ) => {\r\n    this.props.changeVisibilitySideBar();\r\n  };\r\n\r\n  // toggleMenu = () => {\r\n  //   const wrapperBurgerMenu = document.querySelector ( '.burger-menu-wrapper' );\r\n  //   wrapperBurgerMenu.classList.toggle ( 'hide' );\r\n  //\r\n  //   const $el = document.querySelector ( '.menu-icon' );\r\n  //   $el.classList.toggle ( 'clicked' );\r\n  // };\r\n\r\n  render () {\r\n    const { showSearch, showAuth } = this.state;\r\n    const { logoBlack, showAuthForm, isAuth, user, cart, sideBar } = this.props;\r\n\r\n    const classNavlLink = logoBlack ? \"nav-link-black\" : \"\";\r\n    return (\r\n        <div className=\"nav-header\">\r\n\r\n          {\r\n            showAuthForm\r\n                ? <Auth/>\r\n                : <></>\r\n          }\r\n\r\n          <div className=\"logo\">\r\n            <img src={ `${ logoBlack ? '/img/main/logo_black.png' : \"/img/main/logo.png\" }` } alt=\"LOGO\"/>\r\n          </div>\r\n          <div className=\"menu-wrapper\">\r\n\r\n            {\r\n\r\n              ( user.permission === 0 )\r\n                  ? <nav className=\"menu-new\">\r\n                    <li className={ `main-menu-new-item ${ logoBlack ? 'white' : '' }` }>Администрирование\r\n                      <ul className=\"menu-new-item-wrapper\">\r\n                        <li><NavLink to=\"/admin/editor-goods\" className={ classNavlLink }>Редактор товаров</NavLink></li>\r\n                        <li><NavLink to=\"/admin/editor-users\" className={ classNavlLink }>Пользователи</NavLink></li>\r\n                      </ul>\r\n                    </li>\r\n                  </nav>\r\n                  : <></>\r\n            }\r\n\r\n\r\n            <nav>\r\n              <li><NavLink to=\"/\" className={ classNavlLink }>Home</NavLink></li>\r\n              <li><NavLink to=\"/shop\" className={ classNavlLink }>Products</NavLink></li>\r\n              <li><NavLink to=\"/contact\" className={ classNavlLink }>Contact us</NavLink></li>\r\n            </nav>\r\n\r\n            <ul>\r\n              {\r\n                ( !isAuth )\r\n                    ? <></>\r\n                    : <li className=\"wrapper-cart\">\r\n                      <NavLink to={ `/cart` } className={ classNavlLink } >\r\n                  <span className=\"count\">\r\n                    {\r\n                      ( cart )\r\n                          ?\r\n                          ( cart.length >= 0 )\r\n                              ? `${ cart.length }`\r\n                              : 0\r\n                          : <>0</>\r\n                    }\r\n                  </span>\r\n                        <span className=\"cart\">\r\n                    <img src={ `${ logoBlack ? '/img/main/cart.png' : \"/img/main/cart_white.png\" }` } alt=\"\"/>\r\n                  </span>\r\n                      </NavLink>\r\n                    </li>\r\n              }\r\n              <li className=\"wrapper-search\">\r\n                <div className=\"backdrop-search\" onClick={ () => {\r\n                  this.closeBackdrop ()\r\n                } }/>\r\n                <input type=\"text\" className={ `search-str ${ showSearch ? 'show' : '' }` } onKeyPress={ this.handleStartSearch }/>\r\n                <span className=\"search-btn\" style={ { display : 'none' } }> onClick={ this.handlerChangeStateSearch }>\r\n                  <img src={ `${ logoBlack ? \"/img/main/search.png\" : \"/img/main/search_white.png\" }` } alt=\"Search\"/>\r\n                </span>\r\n              </li>\r\n              <li>\r\n                <span className=\"auth\" onClick={ this.authForm }>\r\n                  <div className=\"nav-auth-wrapper\">\r\n                  {\r\n                    ( !isAuth )\r\n                        ? <img src={ `${ logoBlack ? \"/img/main/auth.png\" : \"/img/main/auth_white.png\" }` } className=\"auth-img\" alt=\"\"/>\r\n                        : <img src={ \"/img/main/auth_success.png\" } className=\"auth-img\" alt=\"\" title={ user.name } onClick={ this.logout }/>\r\n                  }\r\n                  </div>\r\n                </span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className={`burger-menu-wrapper ${!sideBar.isShow ? 'hide' : ''}`}>\r\n            <div className={`menu-icon ${!sideBar.isShow ? '' : 'clicked'}`} onClick={ this.toggleBurgerMenu }>\r\n              <div className=\"dot\"></div>\r\n              <div className=\"dot\"></div>\r\n              <div className=\"dot\"></div>\r\n              <div className=\"dot\"></div>\r\n              <div className=\"dot\"></div>\r\n              <div className=\"dot\"></div>\r\n              <div className=\"dot\"></div>\r\n              <div className=\"dot\"></div>\r\n              <div className=\"dot\"></div>\r\n            </div>\r\n            <ul className=\"phone-menu\">\r\n              <li>\r\n                <ul className=\"phone-menu-auth-cart\">\r\n                  <li>\r\n                    {\r\n                      ( !true )\r\n                          ? <></>\r\n                          : <div className=\"wrapper-cart\">\r\n                            <NavLink to={ `/cart` } className={ classNavlLink } onClick={ this.toggleBurgerMenu }>\r\n                                <span className=\"count\">\r\n                                  {\r\n                                    ( cart )\r\n                                        ?\r\n                                        ( cart.length >= 0 )\r\n                                            ? `${ cart.length }`\r\n                                            : 0\r\n                                        : <>0</>\r\n                                  }\r\n                                </span>\r\n                              <span className=\"cart\">\r\n                                <img src={ `/img/main/cart_white.png` } alt=\"\"/>\r\n                              </span>\r\n                            </NavLink>\r\n                          </div>\r\n                    }\r\n                  </li>\r\n                  <li>\r\n                       <span className=\"auth\" onClick={ this.authForm }>\r\n                          <div className=\"nav-auth-wrapper\">\r\n                          {\r\n                            ( !isAuth )\r\n                                ? <img src={ `/img/main/auth_white.png` } className=\"auth-img\" alt=\"\"/>\r\n                                : <img src={ \"/img/main/auth_success.png\" } className=\"auth-img\" alt=\"\" title={ user.name } onClick={ this.logout }/>\r\n                          }\r\n                          </div>\r\n                        </span>\r\n                  </li>\r\n                </ul>\r\n\r\n              </li>\r\n              <li><NavLink to=\"/\" className={ classNavlLink } onClick={ this.toggleBurgerMenu }>Home</NavLink></li>\r\n              <li><NavLink to=\"/shop\" className={ classNavlLink } onClick={ this.toggleBurgerMenu }>Products</NavLink></li>\r\n              <li><NavLink to=\"/contact\" className={ classNavlLink } onClick={ this.toggleBurgerMenu }>Contact</NavLink></li>\r\n            </ul>\r\n          </div>\r\n\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    showAuthForm : state.authReducer.showAuthForm,\r\n    isAuth : state.authReducer.isAuth,\r\n    isAdmin : state.authReducer.isAdmin,\r\n    user : state.authReducer.user,\r\n    cart : state.cartReducer.cart?.itemsGood,\r\n    sideBar : state.layoutReducer.SideBar\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    changeShowAuth : () => dispatch ( changeShowAuth () ),\r\n    checkUserToken : () => dispatch ( checkUserToken () ),\r\n    logout : () => dispatch ( logout () ),\r\n    openModalWindow : ( options ) => dispatch ( openModalWindow ( options ) ),\r\n    changeVisibilitySideBar : ( type ) => dispatch ( changeVisibilitySideBar ( type ) )\r\n  }\r\n}\r\n\r\nexport default withRouter ( connect ( mapStateToProps, mapDispatchToProps ) ( Navigation ) );","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport './MainForm.scss';\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nclass MainForm extends Component {\r\n  render () {\r\n    return (\r\n        <div className=\"main-container main-form\" style={ { backgroundImage : \"url(img/main/bg.webp)\" } }>\r\n          <div className=\"backdrop-container\">\r\n          </div>\r\n\r\n          <Navigation/>\r\n\r\n          <section className=\"header-section\">\r\n            <span className=\"title animate__animated animate__zoomInDown wow\">Coffee Market</span>\r\n            <NavLink className={ \"btn btn-view-all-products animate__animated wow animate__fadeInUp\" } to={ '/shop' }> View Product</NavLink>\r\n          </section>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect () ( MainForm );","import React, { Component } from 'react';\r\nimport './About.scss';\r\n\r\nclass About extends Component {\r\n  render () {\r\n    return (\r\n        <div className=\"main-container\">\r\n          <section className=\"about-section\">\r\n            <article id=\"first-about-article\" className={ \"animate__animated animate__zoomIn wow\" }>\r\n              <header>\r\n                <div className=\"top-about-section\">\r\n                  <h2>About market</h2>\r\n                  <h5>Следы невиданных зверей</h5>\r\n                </div>\r\n\r\n              </header>\r\n              <p>Sed sagittis sodales lobortis. Curabitur in eleifend turpis, id vehicula odio. Donec pulvinar tellus egetmagna aliquet ultricies. Praesent gravida hendrerit ex,\r\n                nec eleifend sem convallis vitae</p>\r\n              <img src=\"img/main/sign-1.png\" alt=\"sign\"/>\r\n            </article>\r\n\r\n            <article className={ \"wow animate__animated animate__slideInRight\" }>\r\n              <header>\r\n                <div className=\"top-about-section\">\r\n                  <img src=\"/img/main/about-icon-1.png\" alt=\"\"/>\r\n                  <h5>The best World sorts</h5>\r\n                </div>\r\n\r\n              </header>\r\n              <p>Sed sagittis sodales lobortis. Curabitur in eleifend turpis, id vehicula odio. Donec pulvinar tellus eget magna aliquet ultricies.</p>\r\n            </article>\r\n\r\n            <article className={ \"wow animate__animated animate__slideInRight\" }>\r\n              <header>\r\n                <div className=\"top-about-section\">\r\n                  <img src=\"/img/main/about-icon-2.png\" alt=\"\"/>\r\n                  <h5>Many points of sale</h5>\r\n                </div>\r\n\r\n              </header>\r\n              <p>Sed sagittis sodales lobortis. Curabitur in eleifend turpis, id vehicula odio. Donec pulvinar tellus eget magna aliquet ultricies.</p>\r\n            </article>\r\n\r\n            <article className={ \"wow animate__animated animate__slideInRight\" }>\r\n              <header>\r\n                <div className=\"top-about-section\">\r\n                  <img src=\"/img/main/about-icon-3.png\" alt=\"\"/>\r\n                  <h5>Professional baristas</h5>\r\n                </div>\r\n\r\n              </header>\r\n              <p>Sed sagittis sodales lobortis. Curabitur in eleifend turpis, id vehicula odio. Donec pulvinar tellus eget magna aliquet ultricies.</p>\r\n            </article>\r\n\r\n            <article className={ \"wow animate__animated animate__slideInRight\" }>\r\n              <header>\r\n                <div className=\"top-about-section\">\r\n                  <img src=\"/img/main/about-icon-4.png\" alt=\"\"/>\r\n                  <h5>24/7 fast delivery</h5>\r\n                </div>\r\n\r\n              </header>\r\n              <p>Sed sagittis sodales lobortis. Curabitur in eleifend turpis, id vehicula odio. Donec pulvinar tellus eget magna aliquet ultricies.</p>\r\n            </article>\r\n\r\n          </section>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default About;","import React from 'react'\r\nimport './Loader.scss';\r\n\r\nexport default props => (\r\n    <div className={`lds-ring ${props.class}`}>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n)\r\n","export function filterCurrency ( cur ) {\r\n  return `$ ${ cur }`;\r\n}\r\n\r\nexport function pageToUp () {\r\n  document.querySelector ( '.title-page' ).scrollIntoView ( {\r\n    behavior : 'smooth',\r\n    block : 'start'\r\n  } )\r\n}\r\n\r\nexport function pageToUpAnchor ( anchor ) {\r\n  document.querySelector ( `${ anchor }` ).scrollIntoView ( {\r\n    behavior : 'smooth',\r\n    block : 'start'\r\n  } )\r\n}\r\n\r\n\r\nexport function pageToUpToTop () {\r\n  document.querySelector ( '.nav-header' ).scrollIntoView ( {\r\n    behavior : 'smooth',\r\n    block : 'start'\r\n  } )\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport './SliderItem.scss';\r\nimport Loader from \"../Loader/Loader\";\r\nimport { filterCurrency, pageToUp } from \"../../utils\";\r\nimport { addItemToCart } from \"../../store/actions/cartAction\";\r\nimport { changeShowAuth } from \"../../store/actions/authAction\";\r\n\r\nclass SliderItem extends Component {\r\n\r\n\r\n  addToCart = ( e ) => {\r\n    e.preventDefault ();\r\n    e.stopPropagation ();\r\n\r\n    if ( this.props.isAuth ) {\r\n      this.props.addItemToCart ( e.target.dataset.id, { needMessage : true } );\r\n    } else {\r\n      this.props.changeShowAuth ();\r\n    }\r\n  };\r\n\r\n  render () {\r\n    const { _id, name, img, price, oldPrice, itemShortDescription, isActive } = this.props.slide;\r\n    return (\r\n        <div className=\"good-nav-link\">\r\n\r\n          {\r\n            ( !_id )\r\n                ? <Loader/>\r\n                : (\r\n                    <NavLink to={ `/shop/${ _id }` }>\r\n                      <article className=\"slider-item\">\r\n\r\n                        {\r\n                          ( oldPrice !== 0 && oldPrice > price ) ? <span className=\"sale\">SALE</span> : <></>\r\n                        }\r\n                        <figure className=\"item-img\">\r\n                          <img src={ `/img/items/${ img }-preview.webp` } alt=\"cup-coffee\"/>\r\n                        </figure>\r\n\r\n                        <span className=\"item-name\">\r\n                            { name }\r\n                        </span>\r\n                        <p className=\"item-description\">\r\n                          { `${ itemShortDescription?.slice ( 0, 45 ) }...` }\r\n                        </p>\r\n                        <div className=\"item-price\">\r\n                          {\r\n                            ( oldPrice !== 0 && oldPrice > price ) ? <span className=\"item-oldPrice\">{ filterCurrency ( oldPrice ) }</span> : <></>\r\n                          }\r\n                          <span className=\"price\">{ filterCurrency ( price ) }</span>\r\n                        </div>\r\n\r\n                        {\r\n                          isActive\r\n                              ? <span className=\"btn btn-add-to-cart\" data-id={ _id } onClick={ this.addToCart }>🛒 Add to cart</span>\r\n                              : <span className=\"out-of-stock\">Out of stock</span>\r\n                        }\r\n\r\n                      </article>\r\n                    </NavLink>\r\n                )\r\n          }\r\n\r\n\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    isAuth : state.authReducer.isAuth\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    addItemToCart : ( item, options ) => dispatch ( addItemToCart ( item, options ) ),\r\n    changeShowAuth : () => dispatch ( changeShowAuth () )\r\n  }\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( SliderItem );\r\n","import React, { Component } from 'react'\r\nimport SlickSlider from 'react-slick'\r\n\r\n// // Import css files\r\nimport \"slick-carousel/slick/slick.scss\"\r\nimport \"slick-carousel/slick/slick-theme.scss\"\r\n\r\n//Local Css\r\nimport \"./Slider.scss\"\r\nimport Loader from \"../Loader/Loader\";\r\nimport SliderItem from \"../ItemSlider/SliderItem\";\r\n\r\nfunction NextArrow ( props ) {\r\n  const { className, style, onClick, type } = props;\r\n\r\n  let newStyle = {\r\n    zIndex : \"5\"\r\n  };\r\n\r\n  let classNameArrow = className;\r\n\r\n  function prepareNextArrowSlider () {\r\n    let classArrow = [...className.split ( \" \" )].indexOf ( 'slick-next' );\r\n    classNameArrow = [...className.split ( \" \" ), 'slick-next-custom'];\r\n    classNameArrow.splice ( classArrow, 1 );\r\n    classNameArrow = classNameArrow.join ( \" \" )\r\n  }\r\n\r\n  switch ( type ) {\r\n    case 'GoodOfDay' : {\r\n      prepareNextArrowSlider ();\r\n      newStyle = { ...newStyle, right : \"10px\", top : \"37%\", width : \"25px\", height : \"25px\" };\r\n      break\r\n    }\r\n    case 'Goods' : {\r\n      newStyle = { ...newStyle, right : \"-16px\" };\r\n      let classArrow = [...className.split ( \" \" )].indexOf ( 'slick-next' );\r\n      classNameArrow = [...className.split ( \" \" ), 'slick-next-custom', 'slick-next-custom-round'];\r\n      classNameArrow.splice ( classArrow, 1 );\r\n      classNameArrow = classNameArrow.join ( \" \" );\r\n      break;\r\n    }\r\n    default : {\r\n      prepareNextArrowSlider ();\r\n      newStyle = { ...newStyle, right : \"10px\", top : \"49%\", width : \"25px\", height : \"25px\" };\r\n      break;\r\n    }\r\n  }\r\n  return (\r\n      <div\r\n          className={ classNameArrow }\r\n          style={ { ...style, ...newStyle } }\r\n          onClick={ onClick }\r\n      />\r\n  );\r\n}\r\n\r\nfunction PrevArrow ( props ) {\r\n  const { className, style, onClick, type } = props;\r\n\r\n  let newStyle = {\r\n    zIndex : \"5\"\r\n  };\r\n\r\n  let classNameArrow = className;\r\n\r\n  function preparePrevArrowSlider () {\r\n    let classArrow = [...className.split ( \" \" )].indexOf ( 'slick-prev' );\r\n    classNameArrow = [...className.split ( \" \" ), 'slick-prev-custom'];\r\n    classNameArrow.splice ( classArrow, 1 );\r\n    classNameArrow = classNameArrow.join ( \" \" );\r\n  }\r\n\r\n  switch ( type ) {\r\n    case 'GoodOfDay' : {\r\n      preparePrevArrowSlider ();\r\n      newStyle = { ...newStyle, left : \"10px\", top : \"37%\", width : \"25px\", height : \"25px\" };\r\n      break;\r\n    }\r\n\r\n    case 'Goods' : {\r\n      let classArrow = [...className.split ( \" \" )].indexOf ( 'slick-prev' );\r\n      classNameArrow = [...className.split ( \" \" ), 'slick-prev-custom', 'slick-prev-custom-round'];\r\n      classNameArrow.splice ( classArrow, 1 );\r\n      classNameArrow = classNameArrow.join ( \" \" );\r\n      newStyle = { ...newStyle, left : \"-12px\" };\r\n      break\r\n    }\r\n\r\n    default : {\r\n      preparePrevArrowSlider ();\r\n      newStyle = { ...newStyle, left : \"10px\", top : \"49%\", width : \"25px\", height : \"25px\" };\r\n      break\r\n    }\r\n  }\r\n\r\n  return (\r\n      <div\r\n          className={ classNameArrow }\r\n          style={ { ...style, ...newStyle } }\r\n          onClick={ onClick }\r\n      />\r\n  );\r\n}\r\n\r\n\r\nexport default class Slider extends Component {\r\n\r\n  renderSlide = () => {\r\n    return this.props.slides.map ( slide => {\r\n          if ( slide.isActive ) {\r\n            return (\r\n                <>\r\n                  <SliderItem slide={ slide }/>\r\n                </> )\r\n          }\r\n        }\r\n    )\r\n  };\r\n\r\n  customPaging = ( i ) => {\r\n    switch ( this.props.typeSlider ) {\r\n      case 'GoodOfDay': {\r\n        return <span>{ i + 1 }</span>\r\n      }\r\n      default : {\r\n        return <button>{ i + 1 }</button>\r\n      }\r\n    }\r\n  };\r\n\r\n  render () {\r\n    const { dots, autoplay, infinite, slidesToShow, slidesToScroll, typeSlider, initialSlide } = this.props;\r\n\r\n    const settings = {\r\n      dots : dots,\r\n      initialSlide : initialSlide,\r\n      arrows : true,\r\n      infinite : infinite,\r\n      slidesToShow : slidesToShow,\r\n      slidesToScroll : slidesToScroll,\r\n      swipeToSlide : true,\r\n      autoplay : autoplay,\r\n      speed : 500,\r\n      rows : 1,\r\n      vertical : false,\r\n      centerMode : true,\r\n      autoplaySpeed : 5000,\r\n      cssEase : \"linear\",\r\n      nextArrow : <NextArrow type={ typeSlider }/>,\r\n      prevArrow : <PrevArrow type={ typeSlider }/>,\r\n      customPaging : this.customPaging\r\n    };\r\n\r\n    return (\r\n        <div style={ { width : this.props.width, cursor : \"pointer\", marginLeft : this.props.marginLeft } }>\r\n\r\n\r\n          {\r\n            this.props.slides === undefined\r\n                ? <Loader/> : <SlickSlider { ...settings }>  { this.renderSlide () }  </SlickSlider>\r\n          }\r\n\r\n\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport './RecentProducts.scss';\r\nimport Slider from \"../Slider/Slider\";\r\nimport SliderItem from \"../ItemSlider/SliderItem\";\r\nimport { filterGoodsByCategory, fetchCategoryOfGood, fetchAllGoods } from \"../../store/actions/goodAction\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { showModalInformation } from \"../../store/actions/layoutAction\";\r\n\r\n\r\nclass RecentProducts extends Component {\r\n  state = {\r\n    isFirstCategory : true\r\n  };\r\n\r\n  componentDidMount () {\r\n    this.props.fetchCategoryOfGood ();\r\n    this.props.fetchAllGoods ();\r\n  }\r\n\r\n  handleClickCategory = ( e ) => {\r\n    document.querySelectorAll ( '.nav-group-coffee > li' ).forEach ( i => {\r\n      i.classList.remove ( 'active' )\r\n    } );\r\n\r\n    e.target.classList.add ( 'active' );\r\n    this.props.filterGoodsByCategory ( e.target.dataset.id );\r\n  };\r\n\r\n  render () {\r\n    const { listCategory, listOfGood } = this.props;\r\n\r\n    return (\r\n        <div className=\"main-container\" style={ { height : 'initial' } }>\r\n          <section className=\"recent-product\">\r\n            <header>\r\n              <h5 className=\"subheader\">Choose your coffee</h5>\r\n              <h2 className=\"header\">Recent Products</h2>\r\n              <p className=\"header-text\">Products</p>\r\n            </header>\r\n            <div className=\"body\">\r\n\r\n              <div className=\"recent-slider\">\r\n\r\n                <ul className=\"nav-group-coffee\">\r\n                  {\r\n                    ( listCategory )\r\n                        ? listCategory.map ( i => ( <li key={ i._id } data-id={ i._id } onClick={ this.handleClickCategory }>{ i.name }</li> ) )\r\n                        : <li>Sorry, but I have not category...</li>\r\n                  }\r\n                </ul>\r\n\r\n                <div className=\"items-slider\">\r\n                  {\r\n                    ( listOfGood )\r\n                        ? <Slider\r\n                            width=\"100%\"\r\n                            dots={ false }\r\n                            slides={ listOfGood }\r\n                            autoplay={ true }\r\n                            centerMode={ true }\r\n                            infinite={ ( listOfGood.length >= 4 ) }\r\n                            initialSlide={ 2 }\r\n                            slidesToScroll={ 1 }\r\n                            slidesToShow={ 4 }\r\n                            typeSlider=\"Goods\"\r\n                        />\r\n                        : <Loader class=\"mini\"/>\r\n                  }\r\n\r\n                </div>\r\n              </div>\r\n              <NavLink to=\"/shop\"><span className=\"btn-view-all-products\">View all products</span></NavLink>\r\n            </div>\r\n\r\n          </section>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    searchListOfCategory : state.goodReducer.search.searchListOfCategory,\r\n    listOfGood : state.goodReducer.listOfGood,\r\n    listCategory : state.goodReducer.listCategory\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    filterGoodsByCategory : ( _id ) => dispatch ( filterGoodsByCategory ( _id ) ),\r\n    fetchCategoryOfGood : () => dispatch ( fetchCategoryOfGood () ),\r\n    fetchAllGoods : () => dispatch ( fetchAllGoods () ),\r\n    showModalInformation : ( msg ) => dispatch ( showModalInformation ( msg ) )\r\n  }\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( RecentProducts );\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './Discount.scss';\r\nimport { changeShowAuth } from \"../../store/actions/authAction\";\r\n\r\n\r\nclass Discount extends Component {\r\n\r\n  handleOpenAuthForm = () => {\r\n    if ( !this.props.isAuth ) {\r\n      this.props.changeShowAuth ();\r\n    }\r\n  };\r\n\r\n  render () {\r\n\r\n    const { isAuth } = this.props;\r\n\r\n    return (\r\n        <div className=\"main-container\" style={ { height : 'initial' } }>\r\n          <section className=\"get-discount\">\r\n            <header className=\"discount-header\">\r\n              <figure>\r\n                <img src=\"/img/main/discount/restaurants.png\" alt=\"\" className=\"wow\"/>\r\n                <img src=\"/img/main/discount/vintage.png\" alt=\"\" className=\"wow\"/>\r\n                <img src=\"/img/main/discount/cupcake.png\" alt=\"\" className=\"wow\"/>\r\n                <img src=\"/img/main/discount/coffe_logo2.png\" alt=\"\" className=\"wow\"/>\r\n                <img src=\"/img/main/discount/bakery.png\" alt=\"\" className=\"wow\"/>\r\n                <img src=\"/img/main/discount/brandit.png\" alt=\"\" className=\"wow\"/>\r\n              </figure>\r\n            </header>\r\n            <div className=\"body\">\r\n              <div className=\"body-left\">\r\n                <article>\r\n                  <header>\r\n                    <h5>Special offer</h5>\r\n                    <h2>Get your discount</h2>\r\n                  </header>\r\n                  <div className=\"discount-article-body\">\r\n                    <figure className=\"wow\">\r\n                      <img src=\"/img/main/discount/card.png\" alt=\"\"/>\r\n                    </figure>\r\n                    <p>Morbi malesuada dui in iaculis lacinia. Duis laoreet ut liberonec tincidunt. Maecenas a eros finibus, condimentum tortoreget, auctor nunc. Aenean a efficitur\r\n                      leo.</p>\r\n                  </div>\r\n                  {\r\n                    ( !isAuth )\r\n                        ? <span className=\"btn-get-now\" onClick={this.handleOpenAuthForm}>Get Discount</span>\r\n                        : <span className=\"btn-hav-discount\">Your have discount !!!</span>\r\n                  }\r\n\r\n                </article>\r\n              </div>\r\n              <div className=\"body-right\">\r\n\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    isAuth : state.authReducer.isAuth\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    changeShowAuth : () => dispatch ( changeShowAuth () )\r\n  }\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( Discount );","import React, { Component } from 'react'\r\nimport M from 'materialize-css';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport './Modal.scss';\r\n\r\n\r\nclass Modal extends Component {\r\n  constructor ( props ) {\r\n    super ( props );\r\n    this.state = {\r\n      id : this.props.id,\r\n      type : this.props.type,\r\n      title : this.props.title,\r\n      text : this.props.text,\r\n      fnAgree : this.props.fnAgree\r\n    };\r\n    this.instance = '';\r\n  }\r\n\r\n  componentWillUnmount () {\r\n    const modal = document.querySelector ( '.modal-frame' );\r\n    this.instance = M.Modal.getInstance ( modal );\r\n    this.instance.destroy ();\r\n  }\r\n\r\n  componentDidUpdate ( prevProps, prevState, snapshot ) {\r\n\r\n    //M.Modal.init ( document.querySelectorAll ( '.modal' ) );\r\n  }\r\n\r\n  render () {\r\n    const { id, type, title, text, fnAgree, fnParam } = this.props;\r\n    let agree = '';\r\n    let disagree = '';\r\n\r\n    switch ( type ) {\r\n      case 'Error': {\r\n        agree = 'Ok';\r\n        disagree = null;\r\n        break;\r\n      }\r\n      case 'Confirmation' : {\r\n        agree = 'Да';\r\n        disagree = 'Случайно нажал';\r\n        break;\r\n      }\r\n      case 'Information' : {\r\n        agree = 'Ok';\r\n        disagree = null;\r\n        break;\r\n      }\r\n      default :\r\n        break;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n          <div id={ `${ id }` } className={ `modal modal-frame ${ type } ` }>\r\n            <div className=\"modal-content\">\r\n              <h5>{ title }</h5>\r\n              <p>{ text }</p>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              { ( disagree )\r\n                  ? <div className=\"modal-close btn-flat\">{ disagree }</div>\r\n                  : null\r\n              }\r\n              <div className=\"modal-close btn-flat\" onClick={ () => {\r\n                if ( fnAgree ) fnAgree ( fnParam )\r\n              } }>{ agree }</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    isShow : state.layoutReducer.Modal.isShow,\r\n    id : state.layoutReducer.Modal.id,\r\n    type : state.layoutReducer.Modal.type,\r\n    title : state.layoutReducer.Modal.title,\r\n    text : state.layoutReducer.Modal.text,\r\n    fnParam : state.layoutReducer.Modal.fnParam,\r\n    fnAgree : state.layoutReducer.Modal.fnAgree\r\n  }\r\n}\r\n\r\n\r\nexport default connect ( mapStateToProps, null ) ( Modal );","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './Footer.scss';\r\nimport Modal from \"../../Admin/Modal/Modal\";\r\nimport { closeModalWindow } from \"../../store/actions/layoutAction\";\r\nimport M from 'materialize-css';\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Footer extends Component {\r\n\r\n  componentDidUpdate ( prevProps, prevState, snapshot ) {\r\n\r\n    if ( this.props.Modal.isShow ) {\r\n      const modal = document.querySelector ( '.modal-frame' );\r\n      if ( modal ) {\r\n        const options = {\r\n          onCloseEnd : this.props.closeModalWindow\r\n        };\r\n        M.Modal.init ( modal, options );\r\n        const instance = M.Modal.getInstance ( modal );\r\n        instance.open ();\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount () {\r\n    const arrowTop = document.querySelector ( '.up-arrow' );\r\n    window.addEventListener ( 'scroll', function () {\r\n      arrowTop.hidden = ( window.pageYOffset < 300 );\r\n    } );\r\n\r\n  }\r\n\r\n  toUpPage = () => {\r\n    document.querySelector ( '.nav-header' ).scrollIntoView ( {\r\n      behavior : 'smooth',\r\n      block : 'start'\r\n    } )\r\n  };\r\n\r\n  render () {\r\n\r\n    return (\r\n\r\n        <footer>\r\n          <div className=\"footer-container\">\r\n            <div className=\"left-side-logo\">\r\n              <img src=\"/img/main/logo.png\" alt=\"\"/>\r\n              <p>󠁶󠁵󠁭󠁡󠁰󠁿 Pellentesque congue non augue vitae pellentesque. Morbi sollicitudin eleifend rhoncus. Mauris vel nisl a massa viverra sollicitudin semper a\r\n                diam.</p>\r\n            </div>\r\n            <div className=\"explore\">\r\n              <h4>EXPLORE</h4>\r\n              <ul>\r\n                <li>Home</li>\r\n                <li>Contact us</li>\r\n                <li>Products</li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"contact-us\">\r\n              <h4>Contact Us</h4>\r\n              <ul>\r\n                <li><img src=\"/img/main/geo-white.png\" alt=\"\"/><p>44 Danwers, NY City, USA, 70-102</p></li>\r\n                <li><img src=\"/img/main/phone-white.png\" alt=\"\"/><p>+10800-33-800; +10500-55-900</p></li>\r\n                <li><img src=\"/img/main/email-white.png\" alt=\"\"/><a href=\"mailto:mycoffee@mycoffeeshop.us\">mycoffee@mycoffeeshop.us</a></li>\r\n                <li></li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div className=\"copyright\">\r\n            CoffeeKing © All Rights Reserved - 2020\r\n          </div>\r\n          <span className=\"up-arrow\" hidden onClick={ this.toUpPage }><img src=\"/img/slider/next-arrow.svg\" alt=\"\"/></span>\r\n          {\r\n            ( this.props.Modal?.isShow )\r\n                ? <>\r\n                  <Modal\r\n                      fnAgree={ this.props.closeModalWindow }\r\n                  />\r\n                </>\r\n                : null\r\n          }\r\n        </footer>\r\n\r\n\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    Modal : state.layoutReducer.Modal\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    closeModalWindow : () => dispatch ( closeModalWindow () )\r\n  }\r\n}\r\n\r\nexport default withRouter ( connect ( mapStateToProps, mapDispatchToProps ) ( Footer ) );","import React, { Component } from 'react'\r\nimport MainForm from \"../../components/MainForm/MainForm\";\r\nimport About from \"../../components/About/About\";\r\nimport RecentProducts from \"../../components/RecentProducts/RecentProducts\";\r\nimport Discount from \"../../components/Discount/Discount\";\r\nimport Footer from \"../../components/Footer/Footer\";\r\n\r\nclass MainLayout extends Component {\r\n   render () {\r\n    return (\r\n        <>\r\n          <MainForm/>\r\n          <About/>\r\n          <RecentProducts/>\r\n          <Discount/>\r\n          <Footer/>\r\n\r\n          { this.props.children }\r\n        </>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default MainLayout;\r\n","import React, { Component } from 'react'\r\nimport './Breadcrumbs.scss';\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nclass Breadcrumbs extends Component {\r\n  render () {\r\n    const {titlePage, breadcrumbs} = this.props;\r\n    return (\r\n        <>\r\n          <div className=\"breadcrumbs\">\r\n            <span className=\"title-page\">{ titlePage }</span>\r\n            <ul>\r\n              <li className=\"mainLink\"><NavLink to=\"/\">CoffeeKing</NavLink></li>\r\n              {\r\n                breadcrumbs.map ( ( i, idx ) => {\r\n                  return (\r\n                      <li key={ idx }>\r\n                        {\r\n                          ( breadcrumbs.length !== idx + 1 )\r\n                              ? <NavLink to={ i.link }><span>&gt;</span>&nbsp;{ i.name }</NavLink>\r\n                              : <><span>&gt;</span>&nbsp;{ i.name }</>\r\n                        }\r\n                      </li>\r\n                  )\r\n                } ) }\r\n            </ul>\r\n          </div>\r\n        </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Breadcrumbs;","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport './Sort.scss';\r\nimport { changeTypeOrderBy, orderBy } from \"../../store/actions/goodAction\";\r\n\r\nclass Sort extends Component {\r\n\r\n\r\n  componentDidMount () {\r\n    this.props.changeTypeOrderBy ( 'Default sorting' );\r\n  }\r\n\r\n  handleChangeSelectOrderBy = ( e ) => {\r\n    this.props.changeTypeOrderBy ( e.target.value );\r\n    this.props.orderBy ( e.target.value );\r\n\r\n  };\r\n\r\n  render () {\r\n    const { qtyResultOfFetchGoods, sort } = this.props;\r\n\r\n    const orderBy = ['latest', 'price low to high', 'price high to low'];\r\n\r\n    return (\r\n        <div className=\"wrapper-sort\">\r\n          <span>Find { qtyResultOfFetchGoods + 1 } item(s)</span>\r\n          <select className=\"orderBy\" value={ sort } onChange={ this.handleChangeSelectOrderBy }>\r\n            <option value=\"Default sorting\" disabled selected>Default sorting</option>\r\n            {\r\n              orderBy.map ( i => (\r\n                  <option value={ i } key={ i }>Sort by { i }</option>\r\n              ) )\r\n            }\r\n          </select>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    sort : state.goodReducer.search.sort\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    changeTypeOrderBy : ( param ) => dispatch ( changeTypeOrderBy ( param ) ),\r\n    orderBy : ( param ) => dispatch ( orderBy ( param ) )\r\n  }\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( Sort );","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport './ListOfGoods.scss';\r\nimport Sort from \"../Sort/Sort\";\r\nimport SliderItem from \"../ItemSlider/SliderItem\";\r\nimport Paginate from 'react-paginate';\r\nimport { changePaginationCurrentPages, fetchAllGoods } from \"../../store/actions/goodAction\";\r\nimport { pageToUp, pageToUpToTop } from \"../../utils\";\r\n\r\nclass ListOfGoods extends Component {\r\n\r\n  componentDidMount () {\r\n    pageToUpToTop ()\r\n  }\r\n\r\n  handlePageClick = ( page ) => {\r\n    this.props.changePaginationCurrentPages ( page.selected + 1 );\r\n    pageToUp ();\r\n  };\r\n\r\n\r\n  fetchPaginatePage = ( goods, currentPage, limitGoodsOfPage ) => {\r\n    const startSlice = currentPage * limitGoodsOfPage - limitGoodsOfPage;\r\n    const newGoods = goods.slice ( startSlice, startSlice + limitGoodsOfPage );\r\n    return newGoods.map ( ( i ) => ( <SliderItem slide={ i }/> ) )\r\n  };\r\n\r\n\r\n  render () {\r\n    const { limitGoodsOfPage, listOfGood, currentPage } = this.props;\r\n\r\n    return (\r\n        <div className=\"list-of-goods-wrapper\">\r\n          <Sort qtyResultOfFetchGoods={ listOfGood?.length - 1 }/>\r\n          <div className=\"list-of-goods\">\r\n            {\r\n              ( !listOfGood || listOfGood?.length === 0 )\r\n                  ? <span className=\"no-good\">No goods, change your choice</span>\r\n                  : this.fetchPaginatePage ( listOfGood, currentPage, limitGoodsOfPage )\r\n            }\r\n          </div>\r\n          <div className=\"paginate-wrapper\">\r\n            <Paginate\r\n                previousLabel={ '<' }\r\n                nextLabel={ '>' }\r\n                breakLabel={ '...' }\r\n                breakClassName={ 'break-me' }\r\n                pageCount={ listOfGood?.length / limitGoodsOfPage }\r\n                marginPagesDisplayed={ 2 }\r\n                pageRangeDisplayed={ 5 }\r\n                onPageChange={ this.handlePageClick }\r\n                containerClassName={ 'pagination' }\r\n                subContainerClassName={ 'pages pagination' }\r\n                activeClassName={ 'active' }\r\n                forcePage={ currentPage - 1 }//Переход на страницу #\r\n            />\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    listOfGood : state.goodReducer.listOfGood,\r\n    currentPage : state.goodReducer.search.currentPage\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    changePaginationCurrentPages : ( page ) => dispatch ( changePaginationCurrentPages ( page ) )\r\n  }\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( ListOfGoods );","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport InputRange from 'react-input-range';\r\n\r\nimport './FilterPriceRange.scss';\r\nimport Loader from \"../../Loader/Loader\";\r\nimport { changePriceForSearch } from \"../../../store/actions/goodAction\";\r\n\r\nclass FilterPriceRange extends Component {\r\n  state = {\r\n    rangeValue : {\r\n      min : this.props.min,\r\n      max : this.props.max\r\n    }\r\n  };\r\n\r\n\r\n  componentDidUpdate ( prevProps, prevState, snapshot ) {\r\n    if ( ( this.props.min !== prevProps.min ) || ( this.props.max !== prevProps.max ) ) {\r\n      this.setState ( {\r\n        rangeValue : {\r\n          min : this.props.min,\r\n          max : this.props.max\r\n        }\r\n      } );\r\n    }\r\n\r\n  }\r\n\r\n  onChangeRangeHandler = ( e ) => {\r\n    const { name, min, max, value } = e.target;\r\n\r\n    let rangeValue = {};\r\n    if ( name === 'max' ) {\r\n      rangeValue = ( +max >= +value )\r\n          ? { ...this.state.rangeValue, max : +value }\r\n          : { ...this.state.rangeValue, max : +max };\r\n    } else {\r\n      rangeValue = ( min <= value )\r\n          ? { ...this.state.rangeValue, min : +value }\r\n          : { ...this.state.rangeValue, min : +min };\r\n\r\n    }\r\n\r\n    this.props.changePriceForSearch ( rangeValue );\r\n    this.setState ( { rangeValue } );\r\n  };\r\n\r\n  render () {\r\n    const { price, price : { min, max }, step, isShow, onShowHideHandler } = this.props;\r\n\r\n    return (\r\n        <div className=\"tm-goods-list-filter-item\">\r\n          {\r\n            ( !price )\r\n                ? <Loader class=\"mini\"/>\r\n                : <>\r\n                  <div className=\"tm-goods-list-filter-item-header\" style={ ( isShow ) ? { height : '6rem' } : { height : '1rem' } }>\r\n                    <ul className=\"rn-edit-wrapper\">\r\n                      <span>от</span>\r\n                      <input type='number' value={ this.state.rangeValue.min } min={ min } onChange={ this.onChangeRangeHandler } name='min'/>\r\n                      <span>до</span>\r\n                      <input type='number' value={ this.state.rangeValue.max } max={ max } onChange={ this.onChangeRangeHandler } name='max'/>\r\n                    </ul>\r\n\r\n                    <InputRange\r\n                        maxValue={ max }\r\n                        minValue={ min }\r\n                        step={ step || 0.10 }\r\n                        value={ this.state.rangeValue }\r\n                        onChange={ rangeValue => {\r\n                          const { min, max } = rangeValue;\r\n                          this.props.changePriceForSearch ( rangeValue );\r\n                          this.setState ( {\r\n                            rangeValue : {\r\n                              min : min.toFixed ( 2 ),\r\n                              max : max.toFixed ( 2 )\r\n                            }\r\n                          } );\r\n                        }\r\n                        }/>\r\n                  </div>\r\n                </>\r\n          }\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    price : state.goodReducer.price\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    changePriceForSearch : ( price ) => dispatch ( changePriceForSearch ( price ) )\r\n  }\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( FilterPriceRange )","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { filterCurrency } from \"../../utils\";\r\nimport { addItemToCart, delItemFromCart, subItemFromCart } from \"../../store/actions/cartAction\";\r\nimport { openModalWindow } from \"../../store/actions/layoutAction\";\r\n\r\nclass CartLine extends Component {\r\n  constructor ( props ) {\r\n    super ( props );\r\n    this.state = {\r\n      qty : this.props.data.qty,\r\n      total : this.totalSummary ( this.props.data.qty, this.props.data.price )\r\n    }\r\n  }\r\n\r\n  totalSummary = ( qty, price ) => {\r\n    return ( qty * price ).toFixed ( 2 )\r\n  };\r\n\r\n  handleChangeCountItem = ( e ) => {\r\n    const type = e.target.dataset.type;\r\n    const id = e.target.dataset.id;\r\n\r\n    if ( type === \"inc\" ) {\r\n      this.props.addItemToCart ( id, { needMessage : false } );\r\n    } else {\r\n      this.props.subItemFromCart ( id );\r\n    }\r\n  };\r\n\r\n  handleDeleteItems = ( e ) => {\r\n    const params = {\r\n      id : e.target.dataset.id,\r\n      options : { needMessage : true }\r\n    };\r\n    const options = {\r\n      id : 'modalQuestBeforeDeleteOrder',\r\n      type : 'Confirmation',\r\n      title : \"Подтверждение\",\r\n      text : `Вы действительно хотите удалить товар \"${ e.target.dataset.name }\" ?`,\r\n      fnParam : params,\r\n      fnAgree : this.props.delItemFromCart,\r\n    };\r\n    this.props.openModalWindow ( options );\r\n  };\r\n\r\n  render () {\r\n    const { data } = this.props;\r\n    const { total } = this.state;\r\n    return (\r\n        <>\r\n          <tr className=\"miniCart\">\r\n            <td>\r\n              <span className=\"item-cross\" data-id={ data.good._id } data-name={ data.good.name } onClick={ this.handleDeleteItems }>❌</span>\r\n            </td>\r\n            <td>\r\n              <img className=\"item-img-product\"\r\n                   src={ `/img/items/${ data.good.img }-preview.webp` }\r\n                   alt={ data.good.tag.map ( ( t, idx ) => ( data.good.tag.length !== idx + 1 ) ? `${ t },` : `${ t }` ) }\r\n              />\r\n            </td>\r\n            <td><span className=\"item-name\">{ data.good.name }</span></td>\r\n          </tr>\r\n          <tr className=\"item-line\">\r\n            <td>\r\n              <span className=\"item-cross\" data-id={ data.good._id } data-name={ data.good.name } onClick={ this.handleDeleteItems }>❌</span>\r\n            </td>\r\n            <td>\r\n              <img className=\"item-img-product\"\r\n                   src={ `/img/items/${ data.good.img }-preview.webp` }\r\n                   alt={ data.good.tag.map ( ( t, idx ) => ( data.good.tag.length !== idx + 1 ) ? `${ t },` : `${ t }` ) }\r\n              />\r\n            </td>\r\n            <td><span className=\"item-name\">{ data.good.name }</span></td>\r\n            <td><span className=\"item-price\">{ filterCurrency ( data.price.toFixed ( 2 ) ) }</span></td>\r\n            <td>\r\n              <div className=\"item-quantity-wrapper\">\r\n                <input type=\"number\" value={ data.qty }/>\r\n                <div className=\"btn-up-down-wrapper\">\r\n                  <div data-type={ 'inc' } data-id={ data.good._id } onClick={ this.handleChangeCountItem } className=\"btn-up-arrow\"/>\r\n                  <div data-type={ 'dec' } data-id={ data.good._id } onClick={ this.handleChangeCountItem } className=\"btn-down-arrow\"/>\r\n                </div>\r\n              </div>\r\n            </td>\r\n            <td className=\"item-total\"><span>{ filterCurrency ( ( data.price * data.qty ).toFixed ( 2 ) ) }</span></td>\r\n          </tr>\r\n        </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {}\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    addItemToCart : ( item, options ) => dispatch ( addItemToCart ( item, options ) ),\r\n    delItemFromCart : ( item, options ) => dispatch ( delItemFromCart ( item, options ) ),\r\n    subItemFromCart : ( item ) => dispatch ( subItemFromCart ( item ) ),\r\n    openModalWindow : ( options ) => dispatch ( openModalWindow ( options ) )\r\n  }\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( CartLine );","import React, { Component } from 'react'\r\nimport moment from \"moment\";\r\nimport { connect } from 'react-redux';\r\nimport './CartListOfUser.scss';\r\n\r\nimport { filterCurrency } from \"../../utils\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Loader from \"../Loader/Loader\";\r\n\r\nclass CartListOfUser extends Component {\r\n\r\n  getSumOrder = ( items ) => {\r\n    return items.reduce ( ( acc, item ) => {\r\n      return acc += item.qty * item.price;\r\n    }, 0 );\r\n  };\r\n\r\n  checkStatusOrder = ( status ) => {\r\n    switch ( status ) {\r\n      case 0: {\r\n        return <span className=\"order-status-register\">In the process of registration</span>\r\n      }\r\n      case 1: {\r\n        return <span className=\"order-status-in-work\">In Work</span>\r\n      }\r\n      case 2: {\r\n        return <span className=\"order-status-success\">Success</span>\r\n      }\r\n    }\r\n  };\r\n\r\n  render () {\r\n\r\n    const { list } = this.props;\r\n    let totalOrders = 0;\r\n\r\n    console.log ( 'list', list );\r\n\r\n    return (\r\n\r\n        <table className=\"cart-list-of-user\">\r\n          <tr className=\"last-order-header\">\r\n            <td>#</td>\r\n            <td className=\"last-order-wrapper-refresh\"><span>Status</span></td>\r\n            <td>Last change</td>\r\n            <td>Sum Of Order</td>\r\n          </tr>\r\n          {\r\n\r\n            ( !list )\r\n                ? <Loader/>\r\n                : list[ 0 ].cart.map ( ( c, idx ) => {\r\n                  const currency = this.getSumOrder ( c.itemsGood );\r\n                  totalOrders += currency;\r\n                  return (\r\n                      <tr key={ c._id } className=\"line-order\">\r\n                        <td>{ idx + 1 }</td>\r\n                        <td><NavLink to={ `/checkout/${ c._id }` }> { this.checkStatusOrder ( c.orderStatus ) }</NavLink></td>\r\n                        <td>{ moment ( c.orderDate ).format ( 'DD.MM.YYYY  HH:mm' ) }</td>\r\n                        <td className=\"currency\">{ filterCurrency ( currency.toFixed ( 2 ) ) }</td>\r\n                      </tr>\r\n                  )\r\n                } )\r\n          }\r\n          <tr className=\"last-order-footer\">\r\n            <td colSpan=\"3\" className=\"total\">Total:</td>\r\n            <td>{ filterCurrency ( totalOrders.toFixed ( 2 ) ) }</td>\r\n          </tr>\r\n        </table>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    users : state.userReducer.users\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {}\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( CartListOfUser );\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\nimport './Cart.scss';\r\nimport Breadcrumbs from \"../Breadcrumbs/Breadcrumbs\";\r\nimport CartLine from \"./CartLine\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport { filterCurrency, pageToUpToTop } from \"../../utils\";\r\nimport { delItemFromCart, fetchUserCart } from \"../../store/actions/cartAction\";\r\nimport { openModalWindow } from \"../../store/actions/layoutAction\";\r\nimport { filter } from \"async\";\r\nimport CartListOfUser from \"./CartListOfUser\";\r\n\r\nclass Cart extends Component {\r\n\r\n  componentDidMount () {\r\n    pageToUpToTop ();\r\n    if ( this.props.match?.params?.userId ) {\r\n      console.log ( 'refresh' )\r\n      console.log ( 'this.props.match.params.userId', this.props.match.params.userId )\r\n      this.props.fetchUserCart ( this.props.match.params.userId );\r\n    }\r\n\r\n  }\r\n\r\n  handleDeleteItems = ( e ) => {\r\n    const block = e.target.closest ( 'figure' );\r\n    const params = {\r\n      id : block.dataset.id,\r\n      options : { needMessage : true }\r\n    };\r\n\r\n    const options = {\r\n      id : 'modalQuestBeforeDeleteOrder',\r\n      type : 'Confirmation',\r\n      title : \"Подтверждение\",\r\n      text : `Вы действительно хотите удалить товар \"${ block.dataset.name }\" ?`,\r\n      fnParam : params,\r\n      fnAgree : this.props.delItemFromCart,\r\n    };\r\n    this.props.openModalWindow ( options );\r\n  };\r\n\r\n  renderMiniCart = ( data ) => {\r\n    let total = 0;\r\n    if ( !data ) {\r\n      return <p>No products in the cart.</p>\r\n    } else {\r\n      return (\r\n          <>\r\n\r\n            {\r\n              data.itemsGood.map ( ( i, idx ) => {\r\n                total += ( i.qty * i.price );\r\n                return (\r\n                    <div className=\"cart-wrapper-mini\" key={ i._id }>\r\n                      <figure data-id={ i.good._id } data-name={ i.good.name } onClick={ this.handleDeleteItems }>\r\n                        <img src={ `/img/items/${ i.good.img }-preview.webp` } alt=\"Delete this item from cart\"/>\r\n                        <span className=\"item-cross\">❌</span>\r\n                      </figure>\r\n\r\n                      <div className=\"cart-item\">\r\n                        <div className=\"item-wrapper\">\r\n                          <div className=\"item-name\">\r\n                            <NavLink to={ `/shop/${ i.good._id }` }><span>{ i.good.name }</span></NavLink>\r\n                          </div>\r\n                          <div className=\"item-price-wrapper\">\r\n                            <span className=\"item-qty\">{ i.qty } ×</span>\r\n                            <span className=\"item-price\">{ filterCurrency ( i.price ) }</span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                )\r\n              } )\r\n            }\r\n\r\n\r\n            <div className=\"item-subtotal\">\r\n              <span className=\"total\">SubTotal: { filterCurrency ( total.toFixed ( 2 ) ) }</span>\r\n            </div>\r\n            <div className=\"item-buttons\">\r\n              <NavLink to={ '/cart' } className=\"btn btn-view-cart\">View Cart</NavLink>\r\n              <NavLink to={ `/checkout/${ data._id }` } className=\"btn btn-checkout\"><span className=\"btn btn-checkout\">CHECKOUT</span></NavLink>\r\n            </div>\r\n          </>\r\n      )\r\n    }\r\n  };\r\n\r\n\r\n  getSumOrder = ( items ) => {\r\n    return items.reduce ( ( acc, item ) => {\r\n      return acc += item.qty * item.price;\r\n    }, 0 );\r\n  };\r\n\r\n  checkStatusOrder = ( status ) => {\r\n    switch ( status ) {\r\n      case 0: {\r\n        return <span className=\"order-status-register\">In the process of registration</span>\r\n      }\r\n      case 1: {\r\n        return <span className=\"order-status-in-work\">In Work</span>\r\n      }\r\n      case 2: {\r\n        return <span className=\"order-status-success\">Success</span>\r\n      }\r\n    }\r\n  };\r\n\r\n  fetchUserCart = () => {\r\n    this.props.fetchUserCart ();\r\n  };\r\n\r\n  render () {\r\n    const { type, cart, allCart } = this.props;\r\n    let total = 0;\r\n    let totalOrders = 0;\r\n\r\n    const title = 'Cart';\r\n    const breadcrumbs = [\r\n      {\r\n        name : 'Products',\r\n        link : '/shop'\r\n      },\r\n      {\r\n        name : 'Cart',\r\n        link : '/cart'\r\n      }\r\n    ];\r\n    return (\r\n        <>{\r\n          ( type === \"mini\" )\r\n              ?\r\n              <div className=\"filter-cart\">\r\n                <h3>{ title }</h3>\r\n                { this.renderMiniCart ( cart ) }\r\n              </div>\r\n              : <>\r\n                <Breadcrumbs titlePage={ title } breadcrumbs={ breadcrumbs }/>\r\n                <div className=\"cart-wrapper\">\r\n\r\n\r\n                  <table cellpadding=\"0\" cellspacing=\"0\">\r\n                    <tr>\r\n                      <th colSpan={ 6 }>Current Orders</th>\r\n                    </tr>\r\n                    <tr className=\"table-header\">\r\n                      <th></th>\r\n                      <th></th>\r\n                      <th>Product</th>\r\n                      <th>Price</th>\r\n                      <th>Quantity</th>\r\n                      <th>Total</th>\r\n                    </tr>\r\n                    {\r\n                      ( cart )\r\n                          ? cart.itemsGood.map ( ( i ) => {\r\n                            total += i.qty * i.price;\r\n                            return ( <CartLine data={ i }/> )\r\n                          } )\r\n                          : <tr>\r\n                            <td colSpan={ 6 } className=\"no-good\">Your cart is empty, put good into your cart</td>\r\n                          </tr>\r\n                    }\r\n                  </table>\r\n                  <div className=\"total-wrapper\">\r\n                    <span className=\"items-total-sum\">Total&nbsp;{ filterCurrency ( total.toFixed ( 2 ) ) }</span>\r\n                    {\r\n                      ( !cart )\r\n                          ? <></>\r\n                          : <NavLink to={ `/checkout/${ cart._id }` } className=\"btn btn-proceed-to-checkout\"><span>Proceed to Checkout</span></NavLink>\r\n                    }\r\n                  </div>\r\n\r\n\r\n                  {\r\n                    ( !allCart )\r\n                        ? <Loader class=\"mini\"/>\r\n                        : <>\r\n                          <table className=\"last-order\">\r\n                            <tr>\r\n                              <th colSpan={ 4 }>All Orders</th>\r\n                            </tr>\r\n                            <tr className=\"last-order-header\">\r\n                              <td>#</td>\r\n                              <td className=\"last-order-wrapper-refresh\"><span>Status</span> <img src=\"/img/main/refresh.png\" alt=\"refresh\" className=\"ico ico-refresh\"\r\n                                                                                                  onClick={ this.fetchUserCart }/></td>\r\n                              <td>Last change</td>\r\n                              <td>Sum Of Order</td>\r\n                            </tr>\r\n                            {\r\n                              allCart[ 0 ].cart.map ( ( c, idx ) => {\r\n                                const currency = this.getSumOrder ( c.itemsGood );\r\n                                totalOrders += currency;\r\n                                return (\r\n                                    <tr key={ c._id } className=\"line-order\">\r\n                                      <td>{ idx + 1 }</td>\r\n                                      <td><NavLink to={ `/checkout/${ c._id }` }> { this.checkStatusOrder ( c.orderStatus ) }</NavLink></td>\r\n                                      <td>{ moment ( c.orderDate ).format ( 'DD.MM.YYYY  HH:mm' ) }</td>\r\n                                      <td className=\"currency\">{ filterCurrency ( currency.toFixed ( 2 ) ) }</td>\r\n                                    </tr>\r\n                                )\r\n                              } )\r\n                            }\r\n                            <tr className=\"last-order-footer\">\r\n                              <td colSpan=\"3\" className=\"total\">Total:</td>\r\n                              <td>{ filterCurrency ( totalOrders.toFixed ( 2 ) ) }</td>\r\n                            </tr>\r\n                          </table>\r\n                        </>\r\n                  }\r\n\r\n                </div>\r\n              </>\r\n\r\n        }</>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    cart : state.cartReducer.cart,\r\n    allCart : state.cartReducer.allCart,\r\n    userId : state.authReducer.user._id,\r\n    isAuth : state.authReducer.isAuth\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    delItemFromCart : ( item, options ) => dispatch ( delItemFromCart ( item, options ) ),\r\n    openModalWindow : ( options ) => dispatch ( openModalWindow ( options ) ),\r\n    fetchUserCart : ( userId ) => dispatch ( fetchUserCart ( userId ) )\r\n  }\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( Cart );","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport './Filter.scss';\r\nimport FilterPriceRange from \"./PriceRange/FilterPriceRange\";\r\nimport Cart from \"../Cart/Cart\";\r\nimport {\r\n  addCategoryForFilter, addPriceForFilter, addTagsForFilter,\r\n  changePaginationCurrentPages,\r\n  fetchCategoryOfGood,\r\n  filterByPrice,\r\n  filterByTag,\r\n  filterGoods,\r\n  filterGoodsByCategory, initAllFilter, initAveragePrice\r\n} from \"../../store/actions/goodAction\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport { pageToUp } from \"../../utils\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Filter extends Component {\r\n  state = {\r\n    isFirst : true,\r\n    categoryId : undefined\r\n  };\r\n\r\n  componentDidMount () {\r\n    this.props.fetchCategoryOfGood ();\r\n    this.props.filterGoods ();\r\n    if ( this.props.match?.params.categoryId ) {\r\n      this.setState ( { categoryId : this.props.match.params.categoryId } )\r\n    }\r\n  }\r\n\r\n  handleClickCategory = ( e ) => {\r\n\r\n    this.setState ( { isFirst : false } );\r\n    this.props.initAllFilter ();\r\n    this.props.initAveragePrice ();\r\n    this.props.addCategoryForFilter ( e.target.dataset.id );\r\n    this.props.changePaginationCurrentPages ( 1 );\r\n    this.props.filterGoods ();\r\n\r\n    this.props.history.push ( `/shop/category/${ e.target.dataset.id }` );\r\n\r\n    pageToUp ();\r\n  };\r\n\r\n  filterByTag = ( e ) => {\r\n    const tag = e.target.dataset.tag;\r\n    this.props.addTagsForFilter ( tag );\r\n    this.props.filterGoods ();\r\n  };\r\n\r\n  filterByPrice = () => {\r\n    this.props.filterGoods ();\r\n  };\r\n\r\n  render () {\r\n    const cart = [];\r\n\r\n    const { isFirst, categoryId } = this.state;\r\n\r\n    const { listCategory, price, tags, isAuth } = this.props;\r\n\r\n    return (\r\n        <div className=\"filter-wrapper\">\r\n          {\r\n            ( !isAuth )\r\n                ? <></>\r\n                : <Cart data={ cart } type={ \"mini\" }/>\r\n          }\r\n\r\n          <div className=\"filter-category\">\r\n            <h3>Categories</h3>\r\n            <div className=\"category-list\">\r\n              {\r\n\r\n                ( !listCategory )\r\n                    ? <Loader class={ 'mini' }/>\r\n                    :\r\n                    <>\r\n                      <div className=\"category_radio\">\r\n                        {\r\n                          ( isFirst )\r\n                              ? <input id={ `category-${ 0 }` } type=\"radio\" name=\"category\" data-id={ 0 } checked onClick={ this.handleClickCategory }/>\r\n                              : <input id={ `category-${ 0 }` } type=\"radio\" name=\"category\" data-id={ 0 } onClick={ this.handleClickCategory }/>\r\n                        }\r\n\r\n                        <label htmlFor={ `category-${ 0 }` }> All Goods </label>\r\n                      </div>\r\n                      {\r\n                        listCategory.map ( ( i, idx ) => (\r\n                            <div className=\"category_radio\">\r\n                              {\r\n                               // console.log ( i._id.toString (), '===', categoryId?.toString (), i._id.toString () === categoryId?.toString () )\r\n                              }\r\n                              {\r\n                                ( i._id.toString () === categoryId?.toString () )\r\n                                    ? <input id={ `category-${ i._id }` } type=\"radio\" name=\"category\" data-id={ i._id } onClick={ this.handleClickCategory }/>\r\n                                    : <input id={ `category-${ i._id }` } type=\"radio\" name=\"category\" data-id={ i._id } onClick={ this.handleClickCategory }/>\r\n                              }\r\n\r\n                              <label htmlFor={ `category-${ i._id }` }>{ i.name }</label>\r\n                            </div>\r\n                        ) )\r\n                      }\r\n                    </>\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className=\"filter-by-price\">\r\n            <h3>Filter by price</h3>\r\n            {\r\n              ( !price )\r\n                  ? <Loader class=\"mini\"/>\r\n                  : <FilterPriceRange min={ price.min } max={ price.max }/>\r\n            }\r\n\r\n          </div>\r\n          <div className=\"filter-submit\">\r\n            <button className=\"btn btn-filter-submit\" onClick={ this.filterByPrice }>Filter</button>\r\n          </div>\r\n          <div className=\"filter-tags\">\r\n            <h3>Tags</h3>\r\n            <ul className=\"tags-list\">\r\n\r\n              { ( !tags )\r\n                  ? <Loader class=\"mini\"/>\r\n                  : tags.map ( ( i, idx ) => (\r\n                      <li><span className=\"tag-link\" data-tag={ i } onClick={ this.filterByTag }>#{ i }</span></li>\r\n                  ) )\r\n              }\r\n            </ul>\r\n          </div>\r\n\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    listCategory : state.goodReducer.listCategory,\r\n    price : state.goodReducer.price,\r\n    tags : state.goodReducer.search.tags,\r\n    isAuth : state.authReducer.isAuth\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    filterGoods : () => dispatch ( filterGoods () ),\r\n    fetchCategoryOfGood : () => dispatch ( fetchCategoryOfGood () ),\r\n    initAveragePrice : () => dispatch ( initAveragePrice () ),\r\n    addCategoryForFilter : ( _id ) => dispatch ( addCategoryForFilter ( _id ) ),\r\n    addTagsForFilter : ( tag ) => dispatch ( addTagsForFilter ( tag ) ),\r\n    changePaginationCurrentPages : ( page ) => dispatch ( changePaginationCurrentPages ( page ) ),\r\n    initAllFilter : () => dispatch ( initAllFilter () )\r\n\r\n    // fetchCategoryOfGood : () => dispatch ( fetchCategoryOfGood () ),\r\n\r\n    // filterByTag : ( tag ) => dispatch ( filterByTag ( tag ) ),\r\n    // filterByPrice : () => dispatch ( filterByPrice () ),\r\n\r\n\r\n  }\r\n}\r\n\r\nexport default withRouter ( connect ( mapStateToProps, mapDispatchToProps ) ( Filter ) );","import React from 'react'\r\nimport ListOfGoods from \"../../components/ListOfGoods/ListOfGoods\";\r\n\r\nimport './Shop.scss';\r\nimport Filter from \"../../components/Filter/Filter\";\r\n//\r\n// import { useEffect } from \"react\";\r\n//\r\n// function ScrollToTopOnMount () {\r\n//   console.log('scroll')\r\n//   useEffect ( () => {\r\n//     window.scrollTo ( 0, 0 );\r\n//   }, [] );\r\n//\r\n//   return null;\r\n// }\r\n\r\nexport default props => {\r\n  return (\r\n      <>\r\n        <div className=\"shop-wrapper\">\r\n          <div className=\"filter\">\r\n            <Filter/>\r\n          </div>\r\n          <ListOfGoods limitGoodsOfPage={ 6 }/>\r\n        </div>\r\n      </>\r\n  )\r\n}\r\n","import React, { Component } from 'react';\r\nimport './NewReview.scss';\r\n\r\nimport Input from 'react-validation/build/input';\r\nimport Textarea from \"react-validation/build/textarea\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Button from \"react-validation/build/button\";\r\n\r\nimport { required } from '../../Admin/Validators';\r\n\r\nclass NewReview extends Component {\r\n  render () {\r\n    return (\r\n        <Form>\r\n          <div className=\"review-wrapper\">\r\n          <span className=\"review-information\">\r\n            Your email address will not be published. Required fields are marked *\r\n          </span>\r\n            <div className=\"review-name\">\r\n                <h5>Name<em>*</em></h5>\r\n                <Input type=\"text\" name=\"review-name-text\" className=\"review-name-text\" validations={ [required] }/>\r\n            </div>\r\n            <div className=\"review-email\">\r\n                <h5>Email<em>*</em></h5>\r\n                <Input type=\"text\" name=\"review-email-text\" className=\"review-email-text\" validations={ [required] }/>\r\n            </div>\r\n            <div className=\"review-text\">\r\n                <h5>Your review<em>*</em></h5>\r\n                <Textarea className=\"review-textarea\" name=\"review-textarea\" cols=\"30\" rows=\"5\" validations={ [required] }/>\r\n            </div>\r\n            <div className=\"review-submit\">\r\n                <Button className=\"btn-submit-new-review\">Submit</Button>\r\n            </div>\r\n          </div>\r\n        </Form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NewReview;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './ItemFullInfo.scss';\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport NewReview from \"../NewReview/NewReview\";\r\nimport { filterCurrency, pageToUp } from \"../../utils\";\r\nimport { getGoodById, initGetGoodById } from \"../../store/actions/goodAction\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport { addItemToCart } from \"../../store/actions/cartAction\";\r\nimport { changeShowAuth } from \"../../store/actions/authAction\";\r\n\r\n\r\nclass ItemFullInfo extends Component {\r\n\r\n  componentDidUpdate ( prevProps, prevState, snapshot ) {\r\n    if ( this.props.location.pathname !== prevProps.location.pathname ) {\r\n      this.props.getGoodById ( this.props.match.params.goodId )\r\n    }\r\n  }\r\n\r\n  componentDidMount () {\r\n    pageToUp ();\r\n\r\n    this.props.getGoodById ( this.props.match.params.goodId )\r\n  }\r\n\r\n  changeTabs = ( e ) => {\r\n    if ( e.target.id ) {\r\n      document.querySelectorAll ( '.tabs' ).forEach ( i => {\r\n        i.classList.remove ( 'active' )\r\n      } );\r\n      document.querySelector ( `#${ e.target.id }` ).classList.add ( 'active' );\r\n      console.log ( `.${ e.target.id }` );\r\n      document.querySelector ( `.${ e.target.id }` ).classList.add ( 'active' );\r\n    }\r\n  };\r\n\r\n  changeVisibleBigImg = ( e ) => {\r\n    const type = e.target.dataset.type;\r\n\r\n    if ( type === 'show' ) {\r\n      document.querySelector ( '.show-big-img' ).classList.add ( 'show' );\r\n    }\r\n\r\n    if ( type === 'hide' ) {\r\n      document.querySelector ( '.show-big-img' ).classList.remove ( 'show' );\r\n    }\r\n\r\n\r\n  };\r\n\r\n\r\n  addToCart = ( e ) => {\r\n    e.preventDefault ();\r\n    e.stopPropagation ();\r\n\r\n    if ( this.props.isAuth ) {\r\n      this.props.addItemToCart ( e.target.dataset.id, { needMessage : true } );\r\n    } else {\r\n      this.props.changeShowAuth ();\r\n    }\r\n  };\r\n\r\n  render () {\r\n    const { goodById } = this.props;\r\n    console.log ( 'goodById', goodById )\r\n    return (\r\n        <div className=\"wrapper-item-full-info\">\r\n          {\r\n            ( !goodById )\r\n                ? <Loader/>\r\n                : <>\r\n                  <div className=\"item-card\">\r\n                    <figure>\r\n                      {\r\n                        console.log ( 'goodById.img', goodById.img )\r\n                      }\r\n                      <img src={ `/img/items/${ goodById.img }.webp` } alt={ goodById.tag } data-type={ 'show' } onClick={ this.changeVisibleBigImg }/>\r\n                    </figure>\r\n\r\n                    <div className=\"show-big-img\" data-type={ 'hide' } onClick={ this.changeVisibleBigImg }>\r\n                      <figure data-type={ 'hide' } onClick={ this.changeVisibleBigImg }>\r\n                        <img src={ `/img/items/${ goodById.img }.webp` } alt={ goodById.tag } data-type={ 'hide' } onClick={ this.changeVisibleBigImg }/>\r\n                      </figure>\r\n                    </div>\r\n\r\n                    <div className=\"item-info\">\r\n                      <h2>{ goodById.name }</h2>\r\n                      <div className=\"item-price\">\r\n                        <span className=\"item-oldPrice\">\r\n                          {\r\n                            ( goodById.price < goodById.oldPrice && goodById.oldPrice !== 0 )\r\n                                ? <>\r\n                                  <span className=\"sale\">SALE</span>\r\n                                  { filterCurrency ( goodById.oldPrice ) }\r\n                                </>\r\n                                : <></>\r\n                          }\r\n                        </span>\r\n                        <span className=\"price\">{ filterCurrency ( goodById.price ) }</span>\r\n                      </div>\r\n                      <p className=\"item-description\">\r\n                        { goodById.itemShortDescription }\r\n                      </p>\r\n                      <div className=\"item-category\">\r\n                        <span className=\"category\">Category:</span>\r\n                        <span className=\"category-name\">{ goodById.category.name }</span>\r\n                      </div>\r\n                      <div className=\"item-tag\">\r\n                        <span className=\"tag\">Tags:</span>\r\n                        <span className=\"tag-list\">\r\n                  {\r\n                    goodById.tag.map ( ( i, idx ) => (\r\n                        <><span key={ i }>{ i }</span>{ ( goodById.tag.length !== idx + 1 ) ? ', ' : '' }</>\r\n                    ) )\r\n                  }\r\n                </span>\r\n                      </div>\r\n                      {\r\n                        goodById.isActive\r\n                            ? <span className=\"btn btn-add-to-cart\" data-id={ goodById._id } onClick={ this.addToCart }>🛒 Add to cart</span>\r\n                            : <span className=\"out-of-stock\">Out of stock</span>\r\n                      }\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"item-tabs\">\r\n                    <div className=\"tabs-header\" onClick={ this.changeTabs }>\r\n                      <div className=\"tabs active\" id=\"tabs-description\"> Description</div>\r\n                      <div className=\"tabs\" id=\"tabs-reviews\" style={ { display : \"none\" } }> Reviews (0)</div>\r\n                    </div>\r\n                    <div className=\"tabs-body\">\r\n                      <div className=\"tabs tabs-description active\">\r\n                        <h2>{ goodById.descriptionTitle }</h2>\r\n                        <pre style={ {} }>{ goodById.descriptionText }</pre>\r\n                      </div>\r\n                      <div className=\"tabs tabs-reviews\">\r\n                        <h2>Name</h2>\r\n                        <pre>REVIEW Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ab, adipisci aliquid amet consequatur distinctio eos eveniet quaerat sed vel voluptas. Consequatur consequuntur corporis cupiditate et, exercitationem fugit in labore laboriosam, odio, placeat quam quia quisquam repellat unde voluptatibus! Ab accusantium alias aperiam assumenda atque autem beatae consequuntur cupiditate dignissimos dolorem eaque eligendi error esse ex excepturi explicabo fuga fugiat, hic in incidunt itaque nobis placeat quaerat qui, quibusdam ratione reprehenderit saepe sit, suscipit tempora temporibus totam ullam voluptatum? Accusantium exercitationem facilis impedit ipsum modi molestiae mollitia natus nulla odio placeat provident, quod quos rerum sapiente, similique, suscipit tempore velit voluptates.\r\n                </pre>\r\n\r\n\r\n                        <NewReview/>\r\n\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n          }\r\n\r\n\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    goodById : state.goodReducer.goodById,\r\n    isAuth : state.authReducer.isAuth\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    getGoodById : ( id ) => dispatch ( getGoodById ( id ) ),\r\n    addItemToCart : ( item, options ) => dispatch ( addItemToCart ( item, options ) ),\r\n    changeShowAuth : () => dispatch ( changeShowAuth () )\r\n  }\r\n}\r\n\r\nexport default withRouter ( connect ( mapStateToProps, mapDispatchToProps ) ( ItemFullInfo ) );","import React from 'react';\r\n\r\nimport './ShopItem.scss';\r\nimport Filter from \"../../components/Filter/Filter\";\r\nimport ItemFullInfo from \"../../components/ItemFullInfo/ItemFullInfo\";\r\n\r\nexport default props => (\r\n    <>\r\n      <div className=\"shop-item-wrapper\">\r\n        <div className=\"filter\">\r\n          <Filter/>\r\n        </div>\r\n        <div className=\"item-of-goods-wrapper\">\r\n          <ItemFullInfo/>\r\n        </div>\r\n      </div>\r\n    </>\r\n)\r\n\r\n","import React, { Component } from 'react'\r\nimport Footer from \"../../components/Footer/Footer\";\r\nimport Navigation from \"../../components/Navigation/Navigation\";\r\nimport Breadcrumbs from \"../../components/Breadcrumbs/Breadcrumbs\";\r\nimport Shop from \"../../container/Shop/Shop\";\r\nimport ShopItem from \"../../container/ShopItem/ShopItem\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass MainLayout extends Component {\r\n\r\n  render () {\r\n    const { goodId } = this.props.match.params;\r\n\r\n    const titlePage = 'All Products';\r\n\r\n    const breadcrumbs = [\r\n      {\r\n        name : 'Products',\r\n        link : '/shop'\r\n      }\r\n    ];\r\n\r\n    return (\r\n        <>\r\n\r\n          <Breadcrumbs titlePage={ titlePage } breadcrumbs={ breadcrumbs }/>\r\n\r\n          {\r\n            !goodId\r\n                ? <Shop/>\r\n                : <ShopItem/>\r\n          }\r\n\r\n\r\n        </>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nfunction mapStateToProps (state) {\r\n   return {\r\n\r\n   }\r\n}\r\n\r\nfunction mapDispatchToProps (dispatch) {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter ( MainLayout );\r\n\r\n","import React from 'react'\r\nimport './404.scss';\r\n\r\nexport default props => (\r\n    <div>с\r\n      <div id=\"notfound\">\r\n        <div className=\"notfound\">\r\n          <div className=\"notfound-404\">\r\n            <h1>4<span>0</span>4</h1>\r\n          </div>\r\n          <p>The page you are looking for might have been removed had its name changed or is temporarily unavailable.</p>\r\n          <a href=\"#\">home page</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\n\r\nimport Navigation from \"../../components/Navigation/Navigation\";\r\nimport Footer from \"../../components/Footer/Footer\";\r\nimport './ProductLayout.scss';\r\n\r\nclass ProductLayout extends Component {\r\n  render () {\r\n\r\n    return (\r\n        <div className=\"cf-container\">\r\n          <header>\r\n            <div className=\"main-container\" style={ { height : 'initial' } }>\r\n              <Navigation logoBlack/>\r\n            </div>\r\n          </header>\r\n\r\n          <div className=\"main-content\">{ this.props.children }</div>\r\n\r\n          <Footer/>\r\n\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {}\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {}\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( ProductLayout );\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './Checkout.scss';\r\nimport Breadcrumbs from \"../Breadcrumbs/Breadcrumbs\";\r\nimport { NavLink, withRouter } from \"react-router-dom\";\r\nimport { changeOrderStatus, fetchUserCart, filterCartById } from \"../../store/actions/cartAction\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport { filterCurrency, pageToUp, pageToUpAnchor } from \"../../utils\";\r\nimport { showModalError, showModalInformation } from \"../../store/actions/layoutAction\";\r\n\r\nclass Checkout extends Component {\r\n\r\n  componentDidMount () {\r\n    const id = this.props.match.params.cartId;\r\n    this.props.filterCartById ( id );\r\n    pageToUp ();\r\n  }\r\n\r\n  getMessageForNeOrder = () => {\r\n    const order = document.querySelector ( '.check-item-wrapper' );\r\n    const newOrder = document.querySelector ( '.new-order-wrapper' );\r\n    if ( order.classList.contains ( 'active' ) ) {\r\n      order.classList.remove ( 'active' );\r\n      newOrder.classList.add ( 'active' );\r\n      document.querySelector ( '.title-page' ).scrollIntoView ( {\r\n        behavior : 'smooth',\r\n        block : 'start'\r\n      } )\r\n    }\r\n  };\r\n\r\n  checkStatusOrder = ( status ) => {\r\n    switch ( status ) {\r\n      case 0: {\r\n        return <span className=\"order-status-register\">In the process of registration</span>\r\n      }\r\n      case 1: {\r\n        return <span className=\"order-status-in-work\">In Work</span>\r\n      }\r\n      case 2: {\r\n        return <span className=\"order-status-success\">Success</span>\r\n      }\r\n    }\r\n  };\r\n\r\n  changeStatus = async ( e ) => {\r\n    const { id, orderStatus } = e.target.dataset;\r\n    if ( orderStatus.toString () === \"0\" ) {\r\n      await this.props.changeOrderStatus ( id, 1 );\r\n    } else {\r\n      pageToUpAnchor ( '.check-item-wrapper' );\r\n      this.props.showModalInformation ( 'This order is already registered!' );\r\n    }\r\n  };\r\n\r\n  sendOrders = async ( e ) => {\r\n    const { id, orderStatus } = e.target.dataset;\r\n    if ( orderStatus.toString () === \"1\" ) {\r\n      await this.props.changeOrderStatus ( id, 2 );\r\n    } else {\r\n      pageToUpAnchor ( '.check-item-wrapper' );\r\n      this.props.showModalError ( 'You can\\'t submit this order, because the order status is not valid for this action!' );\r\n    }\r\n  };\r\n\r\n\r\n  render () {\r\n    const breadcrumbs = [\r\n      {\r\n        name : 'Cart',\r\n        link : '/cart'\r\n      },\r\n      {\r\n        name : 'Checkout',\r\n        link : '/checkout'\r\n      }\r\n    ];\r\n    const title = 'Checkout';\r\n\r\n\r\n    const { cartById, userId, permission } = this.props;\r\n    let total = 0;\r\n\r\n    return (\r\n        <>\r\n          <Breadcrumbs titlePage={ title } breadcrumbs={ breadcrumbs }/>\r\n          <div className=\"check-item-wrapper active\">\r\n            <h1 className=\"check-item-header-text\">Your order</h1>\r\n            <div className=\"check-status-checkout\">Order is : { ( !cartById ) ? <Loader class=\"mini\"/> : this.checkStatusOrder ( cartById.orderStatus ) }</div>\r\n            <table className=\"check-item\">\r\n              <tr className=\"check-item-th-row\">\r\n                <th>Product</th>\r\n                <th>Total</th>\r\n              </tr>\r\n              {\r\n                ( !cartById )\r\n                    ? <Loader/>\r\n                    : cartById.itemsGood.map ( i => {\r\n                      total += i.qty * i.price;\r\n                      return (\r\n                          <tr>\r\n                            <td className=\"check-item-name\">{ `${ i.good.name } × ${ i.qty }` }</td>\r\n                            <td className=\"check-item-total\">{ filterCurrency ( ( i.qty * i.price ).toFixed ( 2 ) ) }</td>\r\n                          </tr>\r\n                      )\r\n                    } )\r\n\r\n              }\r\n              <tr>\r\n                <td className=\"check-item-total-text\"> Total</td>\r\n                <td className=\"check-item-total-sum\">{ filterCurrency ( total.toFixed ( 2 ) ) }</td>\r\n              </tr>\r\n            </table>\r\n            <div className=\"check-place-order\">\r\n              {\r\n                ( !cartById )\r\n                    ? <Loader/>\r\n                    : <>\r\n                      <NavLink to={ `/cart/${ userId }` }><span className=\"btn btn-place-order-back\">Back to cart</span></NavLink>\r\n                      {\r\n                        ( cartById.orderStatus === 0 )\r\n                            ? <span\r\n                                className=\"btn btn-place-order\"\r\n                                data-id={ cartById._id }\r\n                                data-order-status={ cartById.orderStatus }\r\n                                onClick={ this.changeStatus }\r\n                            >Place order</span>\r\n                            : <></>\r\n                      }\r\n\r\n                      {\r\n                        ( permission === 0 )\r\n                            ? <span\r\n                                className=\"btn btn-order-send\"\r\n                                data-id={ cartById._id }\r\n                                data-order-status={ cartById.orderStatus }\r\n                                onClick={ this.sendOrders }\r\n                            >Order sending</span>\r\n                            : <></>\r\n                      }\r\n                    </>\r\n              }\r\n            </div>\r\n          </div>\r\n\r\n\r\n        </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    cartById : state.cartReducer.cartById,\r\n    userId : state.authReducer.user._id,\r\n    permission : state.authReducer.user.permission\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    fetchUserCart : () => dispatch ( fetchUserCart () ),\r\n    filterCartById : ( id ) => dispatch ( filterCartById ( id ) ),\r\n    changeOrderStatus : ( id, status ) => dispatch ( changeOrderStatus ( id, status ) ),\r\n    showModalInformation : ( msg ) => dispatch ( showModalInformation ( msg ) ),\r\n    showModalError : ( msg ) => dispatch ( showModalError ( msg ) )\r\n  }\r\n}\r\n\r\nexport default withRouter ( connect ( mapStateToProps, mapDispatchToProps ) ( Checkout ) );","import React from 'react';\r\nimport './ContactUs.scss';\r\nimport Breadcrumbs from \"../Breadcrumbs/Breadcrumbs\";\r\n\r\nconst breadcrumbs = [\r\n  {\r\n    name : 'Contact',\r\n    link : '/contact'\r\n  }\r\n];\r\n\r\nexport default props => (\r\n    <>\r\n      <Breadcrumbs titlePage={ \"Contact\" } breadcrumbs={ breadcrumbs }/>\r\n      <div className=\"contact-wrapper\">\r\n        <div className=\"contact-description\">\r\n          <h3>Central Office</h3>\r\n          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Maiores minus modi pariatur recusandae suscipit! At consectetur corporis cum cumque dignissimos ea eius error\r\n            exercitationem fugit necessitatibus nihil non numquam odio omnis pariatur provident, quaerat quibusdam quis quod reiciendis? Beatae eveniet explicabo fuga fugiat id\r\n            libero modi necessitatibus odit sequi suscipit.</p>\r\n          <span className=\"contact-phone\"><img src=\"/img/main/phone.png\" alt=\"\"/><p>0(800)89-90-609</p></span>\r\n          <span className=\"contact-address\"><img src=\"/img/main/geo.png\" alt=\"\"/><p>29 NICOLAS STR, NEW YORK, 987597-50</p></span>\r\n          <span className=\"contact-email\"><img src=\"/img/main/email.png\" alt=\"\"/><a href=\"mailto:mycoffee@mycoffeeshop.us\">mycoffee@mycoffeeshop.us</a></span>\r\n        </div>\r\n        <div className=\"contact-opening-hours\">\r\n          <div className=\"sq-border\">\r\n            <h2>Opening Hours</h2>\r\n            <div className=\"work-time\">\r\n              <span><strong>Monday:</strong><p>09:00 - 19:00</p></span>\r\n              <span><strong>Tuesday:</strong><p>09:00 - 19:00</p></span>\r\n              <span><strong>Wednesday:</strong><p>09:00 - 19:00</p></span>\r\n              <span><strong>Thursday:</strong><p>09:00 - 19:00</p></span>\r\n              <span><strong>Friday:</strong><p>09:00 - 19:00</p></span>\r\n              <span><strong>Saturday:</strong><p>11:00 - 16:00</p></span>\r\n              <span><strong>Sunday:</strong>CLOSED</span>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </>\r\n)\r\n","import React, { Component } from 'react';\r\nimport './Review.scss';\r\n\r\nclass Review extends Component {\r\n  render () {\r\n    const { goodId } = this.props;\r\n    return (\r\n        <>\r\n          {\r\n            ( goodId === 0 )\r\n                ?\r\n                <div className=\"review-backdrop\">\r\n                  <div className=\"no-review-goods\"/>\r\n                </div>\r\n                : <></>\r\n          }\r\n        </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Review;","import React, { Component } from 'react'\r\nimport './InputImg.scss';\r\n\r\nclass InputImg extends Component {\r\n  state = {\r\n    files : null\r\n  };\r\n\r\n  onHandleChange = ( e ) => {\r\n    e.preventDefault ();\r\n    const { files } = e.target;\r\n    if ( files ) {\r\n      let newArrPreviewImg = [];\r\n\r\n      for ( let idx = 0; idx <= files.length - 1; idx++ ) {\r\n        newArrPreviewImg = [...newArrPreviewImg, URL.createObjectURL ( files[ idx ] )];\r\n      }\r\n      this.setState ( { files : newArrPreviewImg } );\r\n    }\r\n\r\n  };\r\n\r\n  render () {\r\n    const { name, value } = this.props;\r\n    const { files } = this.state;\r\n    return (\r\n        <div className=\"upload-img-wrapper\">\r\n          {\r\n            ( value )\r\n                ? <>\r\n                  <img src={ `/${ value[ 0 ] }-preview.webp` } alt=\"\"/>\r\n                </>\r\n                : <></>\r\n          }\r\n          <input\r\n              type=\"file\"\r\n              name={ name }\r\n              ref={ ( ref ) => {\r\n                this.uploadInput = ref;\r\n              } }\r\n              accept=\".jpg, .jpeg, .png, .webp\"\r\n              onChange={ this.onHandleChange }\r\n\r\n          />\r\n          {\r\n\r\n            ( files ) ?\r\n                files.map ( ( img, idx ) => {\r\n                  return (\r\n                      <label>\r\n                        <img className=\"preview-img\" src={ img } alt={ '' }/>\r\n                      </label>\r\n                  )\r\n                } )\r\n                : <></>\r\n          }\r\n\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default InputImg;\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport './UploadImg.scss';\r\nimport InputImg from \"../InputImg\";\r\n// import { addNewGoodAlternativ } from \"../../../store/actions/goodAction\";\r\n\r\nclass UploadImg extends Component {\r\n  state = {\r\n    files : []\r\n  };\r\n\r\n  onHandleChange = ( e ) => {\r\n    e.preventDefault ();\r\n    const { files } = e.target;\r\n    if ( files ) {\r\n      let newArrPreviewImg = [];\r\n\r\n      for ( let idx = 0; idx <= files.length - 1; idx++ ) {\r\n        newArrPreviewImg = [...newArrPreviewImg, URL.createObjectURL ( files[ idx ] )];\r\n      }\r\n      this.setState ( { files : newArrPreviewImg } );\r\n    }\r\n  };\r\n\r\n  onSubmitFormHandler = ( e ) => {\r\n    e.preventDefault ();\r\n\r\n    const formDataWithAttrName = Object.values ( { ...this.form } ).filter ( i => !!( i.name ) );\r\n    const formData = new FormData ();\r\n    const formDataFile = new FormData ();\r\n\r\n    formDataWithAttrName.forEach ( i => {\r\n      console.log ( i.type );\r\n      switch ( i.type ) {\r\n        case 'file':\r\n          for ( let idx = 0; idx <= i.files.length - 1; idx++ ) {\r\n            formDataFile.append ( 'file', i.files[ idx ] );\r\n          }\r\n          break;\r\n        case 'select-one' :\r\n          formData.append ( i.name, JSON.parse ( i.value )._id );\r\n          break;\r\n        case 'radio' :\r\n          if ( i.checked ) formData.append ( i.name, i.value );\r\n          break;\r\n        case 'checkbox':\r\n          formData.append ( i.name, i.checked );\r\n          break;\r\n        default : {\r\n          formData.append ( i.name, i.value );\r\n          break;\r\n        }\r\n      }\r\n    } );\r\n\r\n    //this.props.addNewGood ( formData );\r\n\r\n\r\n    // // Display the key/value pairs]\r\n    let newGood = '';\r\n    for ( let key of formData.entries () ) {\r\n      newGood += `\"${ key[ 0 ] }\" : \"${ key[ 1 ] }\"`;\r\n      console.log ( key[ 0 ] + ' : ' + key[ 1 ] );\r\n    }\r\n\r\n    this.props.addNewGoodAlternativ ( '12311', formDataFile, 'nename',  );\r\n    //this.clearForm ( e );\r\n  };\r\n\r\n  render () {\r\n    const { name } = this.props;\r\n    const { files } = this.state;\r\n    return (\r\n        <div className=\"upload-img-wrapper\">\r\n          <form id={ 'formData' } ref={ el => ( this.form = el ) }>\r\n            <InputImg name={ 'fileUpload' }/>\r\n            <input type=\"submit\" value={ 'SUBMIT' } onClick={ this.onSubmitFormHandler }/>\r\n          </form>\r\n          <input\r\n              type=\"file\"\r\n              name={ name }\r\n              accept=\".jpg, .jpeg, .png, .webp\"\r\n              onChange={ this.onHandleChange }\r\n          />\r\n\r\n          {\r\n            ( files ) ?\r\n                files.map ( ( img, idx ) => {\r\n                  return (\r\n                      <label key={ idx }>\r\n                        <img className=\"preview-img\" src={ img } alt={ '' }/>\r\n                      </label>\r\n                  )\r\n                } )\r\n                : <></>\r\n          }\r\n\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {}\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    // addNewGoodAlternativ : ( _id, img, name ) => dispatch ( addNewGoodAlternativ ( _id, img, name ) ),\r\n  }\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( UploadImg );\r\n\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './EditGood.scss';\r\nimport './Checkbox.scss';\r\n\r\nimport Form from 'react-validation/build/form';\r\nimport Input from 'react-validation/build/input';\r\nimport Button from 'react-validation/build/button';\r\nimport Textarea from \"react-validation/build/textarea\";\r\nimport Select from \"react-validation/build/select\";\r\n\r\nimport InputImg from \"../../components/InputImg\";\r\n\r\nimport { required, number, requiredSelectCategory } from '../../Validators';\r\nimport { editorGood, editorGoodAlternativ, editCategory, fetchCategoryOfGood, initialGoodForEdit } from \"../../../store/actions/goodAction\";\r\nimport Loader from \"../../../components/Loader/Loader\";\r\n\r\nimport { openModalWindow } from \"../../../store/actions/layoutAction\";\r\nimport UploadImg from \"../../components/---UploadImg/UploadImg\";\r\n\r\nclass NewGood extends Component {\r\n  state = {\r\n    select : {\r\n      selectedValue : '-1',\r\n      fieldInput : false,\r\n      fieldSelect : true,\r\n      btnOk : false,\r\n      btnEdit : false,\r\n      btnAdd : true,\r\n      btnDel : false,\r\n      addingGood : false,\r\n      newValue : ''\r\n    },\r\n    checked : this.props.selectedGoodForEdit?.isActive,\r\n    goodParam : {\r\n      name : '',\r\n      price : '',\r\n      tags : '',\r\n      short : '',\r\n      title : '',\r\n      full : ''\r\n    }\r\n  };\r\n\r\n  componentDidUpdate ( prevProps, prevState, snapshot ) {\r\n    // console.log ( 'prevProps', prevProps );\r\n    // console.log ( 'this.props', this.props );\r\n    if ( this.props.selectedGoodForEdit?._id !== prevProps.selectedGoodForEdit?._id ) {\r\n      if ( this.props.selectedGoodForEdit?.category._id ) {\r\n        const previewImg = document.querySelector ( '.preview-img' );\r\n\r\n        if ( previewImg ) {\r\n          previewImg.removeAttribute ( \"src\" );\r\n        }\r\n\r\n        this.setState ( {\r\n          select : {\r\n            ...this.state.select,\r\n            selectedValue : JSON.stringify ( {\r\n              \"_id\" : this.props.selectedGoodForEdit?.category._id,\r\n              \"name\" : this.props.selectedGoodForEdit?.category.name\r\n            } )\r\n          },\r\n          checked : this.props.selectedGoodForEdit?.isActive\r\n        } )\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.init ();\r\n  }\r\n\r\n  init = () => {\r\n    this.props.fetchCategoryOfGood ()\r\n  };\r\n\r\n  clearForm = ( e ) => {\r\n    e.preventDefault ();\r\n    this.form.reset ();\r\n  };\r\n\r\n  onSubmitFormHandler = ( e ) => {\r\n    e.preventDefault ();\r\n\r\n    const formDataWithAttrName = Object.values ( { ...this.form } ).filter ( i => !!( i.name ) );\r\n    const formData = new FormData ();\r\n    const formDataFile = new FormData ();\r\n\r\n    formDataWithAttrName.forEach ( i => {\r\n\r\n      switch ( i.type ) {\r\n        case 'file':\r\n          for ( let idx = 0; idx <= i.files.length - 1; idx++ ) {\r\n            formDataFile.append ( 'file', i.files[ idx ] );\r\n          }\r\n          break;\r\n        case 'select-one' :\r\n          formData.append ( i.name, JSON.parse ( i.value )._id );\r\n          break;\r\n        case 'radio' :\r\n          if ( i.checked ) formData.append ( i.name, i.value );\r\n          break;\r\n        case 'checkbox':\r\n          formData.append ( i.name, i.checked );\r\n          break;\r\n        default : {\r\n          formData.append ( i.name, i.value );\r\n          break;\r\n        }\r\n      }\r\n    } );\r\n\r\n    //this.props.editorGood ( formData );\r\n\r\n\r\n    // // Display the key/value pairs]\r\n    let newGood = '';\r\n    for ( let key of formData.entries () ) {\r\n      newGood += `\"${ key[ 0 ] }\" : \"${ key[ 1 ].replace ( /\\n/g, \"\\\\n\" ) }\",`;\r\n      // console.log ( key[ 0 ] + ' : ' + key[ 1 ] );\r\n    }\r\n\r\n    const JSONparse = JSON.parse ( `{${ newGood.slice ( 0, -1 ) }}` );\r\n    console.log ( JSONparse );\r\n\r\n    const options = {\r\n      isReloadImg : !!document.querySelector ( '.preview-img' )?.src,\r\n      typeMutation : e.target.dataset.typeBtn\r\n    };\r\n\r\n\r\n    this.props.editorGood ( JSONparse, formDataFile, options );\r\n    // this.clearForm ( e );\r\n  };\r\n\r\n  handleBtnClick = ( e ) => {\r\n    e.preventDefault ();\r\n    const $el = document.querySelector ( '#select-container' );\r\n    const valueParse = JSON.parse ( $el.value );\r\n    switch ( e.target.dataset.btnType ) {\r\n      case 'btnAdd' : {\r\n        this.setState ( {\r\n          select : {\r\n            ...this.state.select,\r\n            fieldInput : !this.state.select.fieldInput,\r\n            fieldSelect : !this.state.select.fieldSelect,\r\n            btnOk : !this.state.select.btnOk,\r\n            btnAdd : true,\r\n            btnDel : false,\r\n            btnEdit : ( $el.value !== -1 && this.state.select.fieldInput ),\r\n            newValue : ''\r\n          }\r\n        } );\r\n        break;\r\n      }\r\n      case 'btnEdit' : {\r\n        this.setState ( {\r\n          select : {\r\n            ...this.state.select,\r\n            fieldInput : !this.state.select.fieldInput,\r\n            fieldSelect : !this.state.select.fieldSelect,\r\n            btnOk : !this.state.select.btnOk,\r\n            btnAdd : !this.state.select.btnAdd,\r\n            btnEdit : true,\r\n            btnDel : true,\r\n            newValue : ( $el.value !== -1 ) ? valueParse.name : ''\r\n          }\r\n        } );\r\n        break;\r\n      }\r\n      case 'btnDel' : {\r\n        const params = valueParse._id;\r\n        const options = {\r\n          id : 'modalQuestBeforeDeleteOrder',\r\n          type : 'Confirmation',\r\n          title : \"Подтверждение\",\r\n          text : `Вы действительно хотите удалить категорию ${ valueParse.name } ?`,\r\n          fnParam : params,\r\n          fnAgree : this.deleteCategory,\r\n        };\r\n        this.props.openModalWindow ( options );\r\n\r\n        break;\r\n      }\r\n      case 'btnOk' : {\r\n        // console.log ( 'btnOk', this.state.select.btnOk );\r\n        // console.log ( 'btnAdd', this.state.select.btnAdd );\r\n        // console.log ( 'btnEdit', this.state.select.btnEdit );\r\n        // console.log ( 'newValue', this.state.select.newValue );\r\n        // console.log ( 'valueParse', valueParse );\r\n\r\n        if ( this.state.select.btnAdd ) {\r\n          new Promise ( async ( resolve ) => {\r\n            await this.props.editCategory ( 'add', 0, this.state.select.newValue );\r\n            if ( this.props.newCategory ) resolve ()\r\n          } )\r\n              .then ( () => {\r\n                this.selectedLine ( JSON.stringify ( this.props.newCategory ) )\r\n              } );\r\n        }\r\n\r\n        if ( this.state.select.btnEdit ) {\r\n          new Promise ( async ( resolve ) => {\r\n            await this.props.editCategory ( 'edit', valueParse._id, this.state.select.newValue );\r\n            if ( this.props.newCategory ) resolve ();\r\n          } )\r\n              .then ( () => {\r\n                this.selectedLine ( JSON.stringify ( this.props.newCategory ) )\r\n              } );\r\n        }\r\n\r\n        if ( this.state.select.btnDel ) {\r\n\r\n        }\r\n\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  deleteCategory = ( id ) => {\r\n    this.setState ( {\r\n      select : {\r\n        ...this.state.select,\r\n        fieldSelect : true,\r\n        btnOk : false,\r\n        btnAdd : true,\r\n        btnEdit : false,\r\n        btnDel : false,\r\n        newValue : \"-1\"\r\n      }\r\n    } );\r\n    new Promise ( async ( resolve ) => {\r\n      await this.props.editCategory ( 'del', id, this.state.select.newValue );\r\n      if ( this.props.newCategory ) resolve ();\r\n    } )\r\n        .then ( () => {\r\n          this.selectedLine ( \"-1\" )\r\n        } );\r\n  };\r\n\r\n  selectedLine = ( value ) => {\r\n    this.setState ( {\r\n      select : {\r\n        ...this.state.select,\r\n        selectedValue : value,\r\n        fieldInput : false,\r\n        fieldSelect : true,\r\n        btnOk : false,\r\n        btnAdd : true,\r\n        btnEdit : true\r\n      }\r\n    } );\r\n  };\r\n\r\n  //SELECT\r\n  handleChangeCategory = ( e ) => {\r\n    e.preventDefault ();\r\n\r\n\r\n    const value = e.target.value;\r\n    console.log ( value );\r\n\r\n    if ( value === '-1' ) {\r\n      this.setState ( {\r\n        select : {\r\n          ...this.state.select,\r\n          selectedValue : value,\r\n          btnEdit : false,\r\n          btnDel : false\r\n        }\r\n      } )\r\n    } else\r\n      this.setState ( {\r\n        select : {\r\n          ...this.state.select,\r\n          selectedValue : value,\r\n          btnEdit : true,\r\n          btnDel : true\r\n        }\r\n      } )\r\n\r\n  };\r\n\r\n  // INPUT\r\n  handleChangeValue = ( e ) => {\r\n    e.preventDefault ();\r\n    const { value } = e.target;\r\n    this.setState ( {\r\n      select : {\r\n        ...this.state.select,\r\n        newValue : value\r\n      }\r\n    } );\r\n  };\r\n\r\n  //CHECKED\r\n  handleChangeStateIsActive = ( e ) => {\r\n    this.setState ( { checked : !this.state.checked } );\r\n  };\r\n\r\n  render () {\r\n    const { listCategory, selectedGoodForEdit, editItem, reSearchFn } = this.props;\r\n    const { select, goodParam : { name, price, tags, title, short, full }, checked } = this.state;\r\n\r\n    return (\r\n        <>\r\n          <Form id={ 'formData2' }>\r\n            <form id={ 'formData' } ref={ el => ( this.form = el ) }>\r\n              <input type=\"hidden\" name=\"_id\" value={ ( selectedGoodForEdit?._id ) }/>\r\n\r\n              <div className=\"good-name\">\r\n                <label>\r\n                  Название товара<span className=\"required-param\">*</span>\r\n                  <Input placeholder=\"Введите название товара\" value={ selectedGoodForEdit?.name || '' } name='name' validations={ [required] }/>\r\n                </label>\r\n              </div>\r\n\r\n              {\r\n                ( editItem )\r\n                    ? (\r\n                        <div className=\"good-price\">\r\n                          <label>\r\n                            Текущая цена\r\n                            <Input name='oldPrice' value={ selectedGoodForEdit?.price.toFixed ( 2 ) } disabled/>\r\n                          </label>\r\n                        </div>\r\n                    )\r\n                    : <></>\r\n              }\r\n\r\n              <div className=\"good-price\">\r\n                <label>\r\n                  Введите цену<span className=\"required-param\">*</span>\r\n                  <Input placeholder=\"Введите цену товара\" name='price' value={ selectedGoodForEdit?.price.toFixed ( 2 ) } validations={ [number] }/>\r\n                </label>\r\n              </div>\r\n\r\n              {\r\n                ( !editItem )\r\n                    ? <div className=\"good-is-active\">\r\n                      <input type=\"checkbox\" className=\"is-active-checkbox\" id=\"isActive\" name=\"isActive\"/>\r\n                      <label htmlFor=\"isActive\">Активность товара</label>\r\n                    </div>\r\n                    : <div className=\"good-is-active\">\r\n                      <input type=\"checkbox\" className=\"is-active-checkbox\" id=\"isActiveEditItem\" checked={ checked } name=\"isActive\"\r\n                             onChange={ this.handleChangeStateIsActive }/>\r\n                      <label htmlFor=\"isActiveEditItem\">Активность товара</label>\r\n                    </div>\r\n              }\r\n\r\n\r\n              <div className=\"good-category\">\r\n                <label>\r\n                  Выберите категорию<span className=\"required-param\">*</span>\r\n                  {\r\n                    ( !listCategory )\r\n                        ? <Loader class={ 'mini' }/>\r\n                        : (\r\n                            <div className=\"list-category\">\r\n\r\n                              <div className=\"list-category-input-wrapper\">\r\n                                <Select\r\n                                    id={ 'select-container' }\r\n                                    value={ select.selectedValue }\r\n                                    name={ `category` }\r\n                                    validations={ [requiredSelectCategory] }\r\n                                    style={ { display : `${ ( select.fieldSelect ) ? 'block' : 'none' }` } }\r\n                                    onChange={ this.handleChangeCategory }\r\n                                >\r\n                                  <option value=\"-1\">Выберите категорию</option>\r\n                                  {\r\n                                    listCategory.map ( i => {\r\n                                      return (\r\n                                          <option\r\n                                              key={ i._id }\r\n                                              value={ JSON.stringify ( { \"_id\" : i._id, \"name\" : i.name } ) }\r\n                                          >{ i.name }</option>\r\n                                      )\r\n                                    } )\r\n                                  }\r\n                                </Select>\r\n\r\n                                <Input\r\n                                    placeholder=\"Введите новую категорию\"\r\n                                    name='newCategory'\r\n                                    className=\"new-category\"\r\n                                    value={ select.newValue }\r\n                                    onChange={ this.handleChangeValue }\r\n                                    style={ { display : `${ ( select.fieldInput ) ? 'block' : 'none' }` } }\r\n                                />\r\n                              </div>\r\n\r\n                              {\r\n                                ( !editItem )\r\n                                    ? <>\r\n                                      <button\r\n                                          title={ 'Подтвердить изменение' }\r\n                                          data-btn-type={ \"btnOk\" }\r\n                                          className=\"btnOk\"\r\n                                          style={ { display : `${ ( select.btnOk ) ? 'block' : 'none' }` } }\r\n                                          onClick={ this.handleBtnClick }\r\n                                      >✔️\r\n                                      </button>\r\n                                      <button\r\n                                          title={ 'Редактировать' }\r\n                                          data-btn-type={ \"btnEdit\" }\r\n                                          className=\"btnEdit\"\r\n                                          style={ { display : `${ ( select.btnEdit ) ? 'block' : 'none' }` } }\r\n                                          onClick={ this.handleBtnClick }\r\n                                      > 📝\r\n                                      </button>\r\n                                      <button\r\n                                          title={ 'Добавить' }\r\n                                          data-btn-type={ \"btnAdd\" }\r\n                                          className=\"btnAdd\"\r\n                                          style={ { display : `${ ( select.btnAdd ) ? 'block' : 'none' }` } }\r\n                                          onClick={ this.handleBtnClick }\r\n                                      >➕\r\n                                      </button>\r\n                                      <button\r\n                                          title={ 'Удалить' }\r\n                                          data-btn-type={ \"btnDel\" }\r\n                                          className=\"btnDel\"\r\n                                          style={ { display : `${ ( select.btnDel ) ? 'block' : 'none' }` } }\r\n                                          onClick={ this.handleBtnClick }\r\n                                      >❌\r\n                                      </button>\r\n                                    </>\r\n                                    : <></>\r\n\r\n\r\n                              }\r\n\r\n\r\n                            </div>\r\n                        )\r\n                  }\r\n\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"good-img\">\r\n                <label>\r\n                  Фото товара\r\n                  <InputImg name={ 'fileUpload' }/>\r\n                  {\r\n                    ( editItem && selectedGoodForEdit?.img )\r\n                        ? <img className=\"good-img-edit-img\" src={ `/img/items/${ selectedGoodForEdit?.img }.webp` } alt={ `${ selectedGoodForEdit?.name }` }/>\r\n                        : <></>\r\n                  }\r\n                </label>\r\n              </div>\r\n              <div className=\"good-tags\">\r\n                <label>\r\n                  Тэги<span className=\"required-param\">*</span>\r\n                  <Input placeholder=\"Введите тэги через ,\" name='tags' value={ ( selectedGoodForEdit?.tag || '' ) } validations={ [required] }/>\r\n                </label>\r\n              </div>\r\n              <div className=\"good-small-description\">\r\n                <label>\r\n                  Краткое описание товара<span className=\"required-param\">*</span>\r\n                  <Input placeholder=\"Введите краткое описание товара\" value={ ( selectedGoodForEdit?.itemShortDescription || '' ) } name='shortDescription'\r\n                         validations={ [required] }/>\r\n                </label>\r\n              </div>\r\n              <div className=\"good-title-description\">\r\n                <label>\r\n                  Введите заголовок описания<span className=\"required-param\">*</span>\r\n                  <Input placeholder=\" Введите заголовок описания товара\" value={ ( selectedGoodForEdit?.descriptionTitle || '' ) } name='descriptionTitle'\r\n                         validations={ [required] }/>\r\n                </label>\r\n              </div>\r\n              <div className=\"good-description\">\r\n                <label>\r\n                  Введите описание товара<span className=\"required-param\">*</span>\r\n                  <Textarea placeholder=\"Введите описание товара товара\" value={ ( selectedGoodForEdit?.descriptionText || '' ) } name='fullDescription'\r\n                            validations={ [required] }/>\r\n                </label>\r\n              </div>\r\n              <div className=\"good-btn\">\r\n                <Button className=\"btn btn-submit-new-good\"\r\n                        data-type-btn={ ( !editItem ) ? 'add' : 'edit' }\r\n                        onClick={ this.onSubmitFormHandler }>{ ( !editItem ) ? 'Добавить товар' : 'Сохранить' +\r\n                    ' изменения' }</Button>\r\n              </div>\r\n            </form>\r\n          </Form>\r\n        </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    listCategory : state.goodReducer.listCategory,\r\n    newCategory : state.goodReducer.newCategory,\r\n    selectedGoodForEdit : state.goodReducer.search.selectedGoodForEdit\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    editorGood : ( dataItem, img, options ) => dispatch ( editorGood ( dataItem, img, options ) ),\r\n    fetchCategoryOfGood : () => dispatch ( fetchCategoryOfGood () ),\r\n    editCategory : ( type, _id, newCategory ) => dispatch ( editCategory ( type, _id, newCategory ) ),\r\n    openModalWindow : ( options ) => dispatch ( openModalWindow ( options ) )\r\n  }\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( NewGood );\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport './SearchModule.scss';\r\n\r\nclass SearchModule extends Component {\r\n  selectGood = ( e ) => {\r\n    e.stopPropagation ();\r\n    const id = e.target.closest ( '.search-good-line' ).dataset.id;\r\n    this.props.fn ( id );\r\n  };\r\n\r\n  render () {\r\n    const { isShow, list } = this.props;\r\n\r\n    return ( <>          {\r\n          ( isShow  )\r\n              ? <div className=\"search-good-container animate__animated animate__backInUp wow\">\r\n                <table>\r\n                  <tr>\r\n                    <th>Рисунок</th>\r\n                    <th>Товар</th>\r\n                    <th>Активность</th>\r\n                  </tr>\r\n                  {\r\n                    list.map ( i => (\r\n                        <tr key={ i._id } className=\"search-good-line\" data-id={ i._id } onClick={ this.selectGood }>\r\n                          <td className=\"search-img\"><img src={ `/img/items/${ i.img }-preview.webp` } alt=\"\"/></td>\r\n                          <td>{ i.name }</td>\r\n                          <td className=\"search-good-active\">{ ( i.isActive ) ? `✔️` : `❌` }</td>\r\n                        </tr>\r\n                    ) )\r\n                  }\r\n\r\n                </table>\r\n              </div>\r\n              : <></>\r\n        }\r\n\r\n        </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {}\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {}\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( SearchModule )","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './EditorGoods.scss';\r\n\r\nimport Breadcrumbs from \"../../components/Breadcrumbs/Breadcrumbs\";\r\nimport Review from \"./Review/Review\";\r\nimport EditGood from \"./EditGood/EditGood\";\r\nimport SearchModule from \"../SearchModule/SearchModule\";\r\nimport { initialGoodForEdit, searchForEditorSheet, setGoodForEdit } from \"../../store/actions/goodAction\";\r\n\r\nclass EditorGoods extends Component {\r\n  state = {\r\n    showEditorField : false,\r\n    searchStr : '',\r\n    isShowSearchModule : false\r\n  };\r\n\r\n  changeTabs = ( e ) => {\r\n    if ( e.target.id ) {\r\n      document.querySelectorAll ( '.tabs' ).forEach ( i => {\r\n        i.classList.remove ( 'active' )\r\n      } );\r\n      document.querySelector ( `#${ e.target.id }` ).classList.add ( 'active' );\r\n      document.querySelector ( `.${ e.target.id }` ).classList.add ( 'active' );\r\n    }\r\n  };\r\n\r\n\r\n  changeStateSearch = ( e ) => {\r\n    e.preventDefault ();\r\n    this.props.initialGoodForEdit ();\r\n  };\r\n\r\n  handleChangeSearchGood = ( e ) => {\r\n    e.preventDefault ();\r\n    this.setState ( {\r\n      searchStr : e.target.value,\r\n      isShowSearchModule : true\r\n    } );\r\n    this.props.searchForEditorSheet ( e.target.value );\r\n  };\r\n\r\n  handleSearchGoodForEdit = async ( id ) => {\r\n    await this.props.setGoodForEdit ( id );\r\n    if ( this.props.selectedGoodForEdit ) {\r\n      this.setState ( { isShowSearchModule : false } );\r\n    }\r\n  };\r\n\r\n  render () {\r\n\r\n    const { showEditorField, isShowSearchModule, searchStr } = this.state;\r\n    const { searchListOfGoods, selectedGoodForEdit } = this.props;\r\n\r\n    const title = 'Редактор товаров';\r\n    const breadcrumbs = [\r\n      {\r\n        name : 'Редактор товаров',\r\n        link : '/editor-goods'\r\n      }\r\n    ];\r\n    const goodId = undefined;\r\n\r\n    return (\r\n        <div>\r\n          <Breadcrumbs titlePage={ title } breadcrumbs={ breadcrumbs }/>\r\n          <div className=\"editor-goods-container\">\r\n\r\n            <div className=\"editor-goods\">\r\n              <div className=\"tabs-header\" onClick={ this.changeTabs }>\r\n                <div className=\"tabs active\" id=\"new-good\">Новый товар</div>\r\n                <div className=\"tabs \" id=\"edit-good\">Редактор существующих</div>\r\n              </div>\r\n\r\n              <div className=\"tabs-body\">\r\n                <div className=\"tabs new-good active\">\r\n\r\n                  <EditGood newItem/>\r\n\r\n                </div>\r\n                <div className=\"tabs edit-good \">\r\n\r\n\r\n                  <div className=\"search-good\">\r\n                    <span>Введите товар для поиска</span>\r\n                    <input name='str-search-good' className=\"str-search-good\" onFocus={ this.handleChangeSearchGood } onChange={ this.handleChangeSearchGood }/>\r\n\r\n                    {\r\n                      ( isShowSearchModule )\r\n                          ? <SearchModule\r\n                              list={ searchListOfGoods }\r\n                              isShow={ searchListOfGoods.length > 0 && searchStr !== '' }\r\n                              fn={ this.handleSearchGoodForEdit }\r\n                          />\r\n\r\n                          : <></>\r\n                    }\r\n\r\n\r\n                  </div>\r\n\r\n                  <EditGood editItem reSearchFn={ this.changeStateSearch }/>\r\n\r\n\r\n                </div>\r\n              </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"review-goods\">\r\n              <Review goodId={ ( goodId ) ? goodId : 0 }/>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    searchListOfGoods : state.goodReducer.search.searchListOfGoods,\r\n    selectedGoodForEdit : state.goodReducer.search.selectedGoodForEdit\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    searchForEditorSheet : ( str ) => dispatch ( searchForEditorSheet ( str ) ),\r\n    setGoodForEdit : ( id ) => dispatch ( setGoodForEdit ( id ) ),\r\n    initialGoodForEdit : () => dispatch ( initialGoodForEdit () )\r\n  }\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( EditorGoods );","import React, { Component } from 'react'\r\n\r\nclass EditBtnUsers extends Component {\r\n  render () {\r\n    return (\r\n        <>\r\n          <h1>BTN</h1>\r\n        </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EditBtnUsers;","import { FETCH_ALL_USERS, SET_SEARCH_STR } from './actionTypes';\r\n\r\nimport { catchError, showModalInformation } from \"./layoutAction\";\r\nimport axiosCustom from \"../../config/axios\";\r\n\r\nfunction axiosQuery ( query ) {\r\n  console.log ( query );\r\n  return axiosCustom ( {\r\n    data : { query }\r\n  } );\r\n}\r\n\r\nexport function fetchAllUsers () {\r\n  return async ( dispatch, getState ) => {\r\n\r\n    const { login, name, email } = getState ().userReducer.search;\r\n\r\n    let queryStr = '';\r\n\r\n    if ( login && login !== '' ) {\r\n      queryStr += `login : \"${ login }\",`\r\n    }\r\n\r\n    if ( name && name !== '' ) {\r\n      queryStr += `name : \"${ name }\",`\r\n    }\r\n\r\n    if ( email && email !== '' ) {\r\n      queryStr += `email : \"${ email }\",`\r\n    }\r\n\r\n    if ( queryStr !== '' ) {\r\n      queryStr = `(${ queryStr.slice ( 0, -1 ) })`\r\n    }\r\n\r\n    const query = `{\r\n                  getAllUsers${ queryStr }  {\r\n                    _id\r\n                    login\r\n                    permission\r\n                    name\r\n                    email\r\n                    addressDelivery\r\n                    isActivateAccount\r\n                    cart {\r\n                      _id\r\n                      itemsGood {\r\n                        good {\r\n                          _id\r\n                          name\r\n                          img\r\n                          price\r\n                        }\r\n                        qty\r\n                        price\r\n                      }\r\n                      orderDate\r\n                      orderStatus\r\n                    }\r\n                  }\r\n                }`;\r\n\r\n    await axiosQuery ( query )\r\n        .then ( res => {\r\n              console.log ( 'res', res.data.data.getAllUsers );\r\n              dispatch ( fetchAllUsersSuccess ( res.data.data.getAllUsers ) )\r\n            }\r\n        )\r\n        .catch ( e => {\r\n          dispatch ( catchError ( 'cartAction', 'delItemFromCart', e ) )\r\n        } )\r\n  }\r\n}\r\n\r\nexport function fetchAllUsersSuccess ( payload ) {\r\n  return {\r\n    type : FETCH_ALL_USERS,\r\n    payload\r\n  }\r\n}\r\n\r\nexport function setSearchStr ( param, str ) {\r\n  switch ( param ) {\r\n    case 'login' : {\r\n      return {\r\n        type : SET_SEARCH_STR,\r\n        payload : { login : str }\r\n      }\r\n    }\r\n    case 'name' : {\r\n      return {\r\n        type : SET_SEARCH_STR,\r\n        payload : { name : str }\r\n      }\r\n    }\r\n    case 'email' : {\r\n      return {\r\n        type : SET_SEARCH_STR,\r\n        payload : { email : str }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport './EditorUsers.scss';\r\nimport Breadcrumbs from \"../../components/Breadcrumbs/Breadcrumbs\";\r\nimport EditBtnUsers from \"./EditBtnUsers/EditBtnUsers\";\r\nimport { fetchAllUsers, setSearchStr } from \"../../store/actions/userAction\";\r\nimport Loader from \"../../components/Loader/Loader\";\r\nimport { filterCurrency } from \"../../utils\";\r\nimport CartListOfUser from \"../../components/Cart/CartListOfUser\";\r\n\r\n\r\nclass EditorUsers extends Component {\r\n  state = {\r\n    isOpen : false\r\n  };\r\n\r\n  componentDidMount () {\r\n    this.props.fetchAllUsers ();\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState ( { isOpen : !this.state.isOpen } );\r\n  };\r\n\r\n  handleSearchUser = ( e ) => {\r\n    const { searchField } = e.target.dataset;\r\n    this.props.setSearchStr ( searchField, e.target.value );\r\n    this.props.fetchAllUsers ();\r\n  };\r\n\r\n  calculateSpentMoneyUser = ( cart ) => {\r\n    const finalOrders = cart.filter ( c => c.orderStatus >= 1 );\r\n\r\n    const totalSum = finalOrders.reduce ( ( sum, cart ) => {\r\n\r\n      const tempSum = cart.itemsGood.reduce ( ( tempSumCart, good ) => {\r\n        return tempSumCart += good.qty * good.price;\r\n      }, 0 );\r\n\r\n      return sum += tempSum;\r\n    }, 0 );\r\n\r\n    return filterCurrency ( totalSum.toFixed ( 2 ) );\r\n  };\r\n\r\n  calculateWaitOrdersUser = ( cart ) => {\r\n    const finalOrders = cart.filter ( c => c.orderStatus === 0 );\r\n\r\n    const totalSum = finalOrders.reduce ( ( sum, cart ) => {\r\n\r\n      const tempSum = cart.itemsGood.reduce ( ( tempSumCart, good ) => {\r\n        return tempSumCart += good.qty * good.price;\r\n      }, 0 );\r\n\r\n      return sum += tempSum;\r\n    }, 0 );\r\n\r\n    return `${ finalOrders.length } / ${ filterCurrency ( totalSum.toFixed ( 2 ) ) }`;\r\n  };\r\n\r\n  toggleDataOrders = ( e ) => {\r\n    e.preventDefault ();\r\n    const id = e.target.dataset.id;\r\n    const $el = document.querySelector ( `.cart-list-wrapper-${ id }` );\r\n\r\n    if ( $el ) {\r\n      if ( $el.classList.contains ( 'hide' ) ) {\r\n        $el.classList.remove ( 'hide' );\r\n      } else {\r\n        $el.classList.add ( 'hide' );\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  changePassword = ( e ) => {\r\n\r\n  };\r\n\r\n  toggleChangePass = ( e ) => {\r\n    e.preventDefault ();\r\n    const id = e.target.dataset?.id;\r\n    const $el = document.querySelector ( `.change-pass-${ id }` );\r\n\r\n    console.log ( 'type', e.target.dataset?.type )\r\n\r\n    if ( e.target.dataset?.type === 'close' ) {\r\n      $el.classList.add ( 'hide' );\r\n    } else {\r\n      $el.classList.remove ( 'hide' );\r\n    }\r\n\r\n  };\r\n\r\n  getUserById = ( userId ) => {\r\n    return this.props.users.filter ( u => u._id === userId )\r\n  };\r\n\r\n  render () {\r\n    const { users } = this.props;\r\n    const title = 'Редактор пользователей';\r\n    const breadcrumbs = [\r\n      {\r\n        name : 'Редактор пользователей',\r\n        link : '/editor-users'\r\n      }\r\n    ];\r\n\r\n\r\n    return (\r\n        <div>\r\n          <Breadcrumbs titlePage={ title } breadcrumbs={ breadcrumbs }/>\r\n\r\n          <div className=\"editor-user-container\">\r\n            <table>\r\n              <tr className=\"th-table\">\r\n                <td>#</td>\r\n                <td>Login <br/> (click for change password)</td>\r\n                <td>Name</td>\r\n                <td>Email</td>\r\n                <td>Spent</td>\r\n                <td>WaitOrder(s)<br/> qty/sum</td>\r\n                <td>Адрес</td>\r\n              </tr>\r\n              <tr className=\"th-search-field\">\r\n                <td></td>\r\n                <td>\r\n                  <input type=\"text\" data-search-field=\"login\" onChange={ this.handleSearchUser }/>\r\n                </td>\r\n                <td>\r\n                  <input type=\"text\" data-search-field=\"name\" onChange={ this.handleSearchUser }/>\r\n                </td>\r\n                <td>\r\n                  <input type=\"text\" data-search-field=\"email\" onChange={ this.handleSearchUser }/>\r\n                </td>\r\n                <td colSpan=\"3\"></td>\r\n              </tr>\r\n\r\n              {\r\n                ( users )\r\n                    ? users.map ( ( i, idx ) => {\r\n                      console.log ( 'i', i );\r\n                      return (\r\n                          <tr className=\"tr-user-line\">\r\n                            <td>{ idx + 1 }</td>\r\n                            <td>\r\n                              <div data-id={ i._id } className=\"login-change-pass\" data-type={ 'open' } onClick={ this.toggleChangePass }>\r\n                                { i.login }\r\n                                <div className={ `change-pass hide change-pass-${ i._id }` }>\r\n                                  <label>Enter new password\r\n                                    <input type=\"text\" className={ `change-pass-new-pass new-pass-${ i._id }` }/>\r\n                                    <span data-id={ i._id } onClick={ this.changePassword }>Change pass</span>\r\n                                    <span data-id={ i._id } data-type={ 'close' } onClick={ this.toggleChangePass }>Cancel</span>\r\n                                  </label>\r\n                                </div>\r\n                              </div>\r\n                            </td>\r\n                            <td>{ i.name }</td>\r\n                            <td>{ i.email }</td>\r\n                            <td>{ this.calculateSpentMoneyUser ( i.cart ) }</td>\r\n                            <td>\r\n                              <span className=\"show-wait-orders\" data-id={ i._id } onClick={ this.toggleDataOrders }> { this.calculateWaitOrdersUser ( i.cart ) }</span>\r\n                              <div className={ `cart-list-wrapper cart-list-wrapper-${ i._id } hide` } data-id={ i._id } onClick={ this.toggleDataOrders }>\r\n                                <CartListOfUser list={ this.getUserById ( i._id ) }/>\r\n                              </div>\r\n                            </td>\r\n                            <td>{ i.addressDelivery }</td>\r\n                          </tr>\r\n                      )\r\n                    } )\r\n                    : <Loader/>\r\n              }\r\n\r\n            </table>\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps ( state ) {\r\n  return {\r\n    users : state.userReducer.users\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps ( dispatch ) {\r\n  return {\r\n    fetchAllUsers : () => dispatch ( fetchAllUsers () ),\r\n    setSearchStr : ( param, str ) => dispatch ( setSearchStr ( param, str ) )\r\n  }\r\n}\r\n\r\nexport default connect ( mapStateToProps, mapDispatchToProps ) ( EditorUsers );\r\n","import React, { Component } from 'react';\r\nimport './DashBoard.scss';\r\nimport Breadcrumbs from \"../../components/Breadcrumbs/Breadcrumbs\";\r\n\r\nclass DashBoard extends Component {\r\n  render () {\r\n    const title = 'Статистика';\r\n    const breadcrumbs = [\r\n      {\r\n        name : 'Статистика',\r\n        link : '/editor-goods'\r\n      }\r\n    ];\r\n    return (\r\n        <div>\r\n          <Breadcrumbs titlePage={ title } breadcrumbs={ breadcrumbs }/>\r\n          <h1>EditorGoods</h1>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DashBoard;\r\n","import React, { Component } from 'react';\nimport { Route, Switch, Redirect, withRouter } from 'react-router-dom'\nimport { connect } from \"react-redux\";\nimport { WOW } from 'wowjs';\n\nimport './App.scss';\n\nimport MainLayout from \"./Layout/MainLayout/MainLayout\";\nimport ShopLayout from \"./Layout/ShopLayout/ShopLayout\";\nimport Cart from \"./components/Cart/Cart\";\nimport Page404 from \"./components/404/404\";\nimport ProductLayout from \"./Layout/ProductLayout/ProductLayout\";\nimport Checkout from \"./components/Checkout/Checkout\";\nimport ContactUs from \"./components/ContactUs/ContactUs\";\nimport EditorGoods from \"./Admin/EditorGoods/EditorGoods\";\nimport EditorUsers from \"./Admin/EditorUsers/EditorUsers\";\nimport DashBoard from \"./Admin/DashBoard/DashBoard\";\nimport { pageToUp } from \"./utils\";\nimport { checkUserToken } from \"./store/actions/authAction\";\n\nclass App extends Component {\n\n  componentDidMount () {\n    this.props.checkUserToken ();\n    const wow = new WOW (\n        {\n          boxClass : 'wow',      // animated element css class (default is wow)\n          animateClass : 'animated', // animation css class (default is animated)\n          offset : 0,          // distance to the element when triggering the animation (default is 0)\n          mobile : true,       // trigger animations on mobile devices (default is true)\n          live : true,       // act on asynchronously loaded content (default is true)\n          callback : function ( box ) {\n            // the callback is fired every time an animation is started\n            // the argument that is passed in is the DOM node being animated\n          },\n          scrollContainer : null // optional scroll container selector, otherwise use window\n        }\n    );\n    wow.init ();\n\n  }\n\n  render () {\n    const { permission, isAuth } = this.props;\n\n    let routesNotAuth = (\n        <Switch>\n          <Route path={ `/` } exact component={ MainLayout }/>\n          <Route path={ `/shop` } exact component={ ShopLayout }/>\n          <Route path={ `/shop/:goodId` } exact component={ ShopLayout }/>\n          <Route path={ `/shop/category/:categoryId` } exact component={ ShopLayout }/>\n          <Route path={ `/contact` } exact component={ ContactUs }/>\n          <Redirect to={ `/` } component={ Page404 }/>\n        </Switch>\n    );\n\n    let routes = (\n        <Switch>\n          <Route path={ `/` } exact component={ MainLayout }/>\n          <Route path={ `/shop` } exact component={ ShopLayout }/>\n          <Route path={ `/shop/:goodId` } exact component={ ShopLayout }/>\n          <Route path={ `/shop/category/:categoryId` } exact component={ ShopLayout }/>\n          <Route path={ `/cart` } exact component={ Cart }/>\n          <Route path={ `/cart/:userId` } exact component={ Cart }/>\n          <Route path={ `/checkout/:cartId` } exact component={ Checkout }/>\n          <Route path={ `/contact` } exact component={ ContactUs }/>\n          <Redirect to={ `/404` } component={ Page404 }/>\n        </Switch>\n    );\n\n    let routesAdm = (\n        <Switch>\n          <Route path={ `/admin/editor-goods` } exact component={ EditorGoods }/>\n          <Route path={ `/admin/editor-users` } exact component={ EditorUsers }/>\n          <Route path={ `/admin/dashboard` } exact component={ DashBoard }/>\n\n          <Route path={ `/` } exact component={ MainLayout }/>\n          <Route path={ `/shop` } exact component={ ShopLayout }/>\n          <Route path={ `/shop/:goodId` } exact component={ ShopLayout }/>\n          <Route path={ `/shop/category/:categoryId` } exact component={ ShopLayout }/>\n          <Route path={ `/cart` } exact component={ Cart }/>\n          <Route path={ `/cart/:userId` } exact component={ Cart }/>\n          <Route path={ `/checkout/:cartId` } exact component={ Checkout }/>\n          <Route path={ `/contact` } exact component={ ContactUs }/>\n          <Redirect to={ `/404` } component={ Page404 }/>\n        </Switch>\n    );\n    // console.log ( this.props );\n    // console.log ( this.props.location.pathname === '/' );\n\n    return (\n        ( this.props.location.pathname === '/' )\n            ? <>{\n              ( permission === 0 )\n                  ? routesAdm\n                  : (isAuth) ? routes : routesNotAuth\n            }\n            </>\n            : <ProductLayout>{ ( permission === 0 ) ? routesAdm : (isAuth) ? routes : routesNotAuth }</ProductLayout>\n    )\n  }\n}\n\nfunction mapStateToProps ( state ) {\n  return {\n    permission : state.authReducer.user.permission,\n    isAuth : state.authReducer.isAuth\n  }\n}\n\nfunction mapDispatchToProps ( dispatch ) {\n  return {\n    checkUserToken : () => dispatch ( checkUserToken () )\n  }\n}\n\nexport default withRouter ( connect ( mapStateToProps, mapDispatchToProps ) ( App ) );\n","import {\r\n  FETCH_LIST_CATEGORY,\r\n  INIT_CREATE_NEW_CATEGORY,\r\n  FETCH_NEW_CATEGORY_AFTER_CREATE,\r\n  SEARCH_FOR_EDITOR_SHEET,\r\n  SET_GOOD_FOR_EDIT,\r\n  FETCH_FILTER_GOODS_BY_CATEGORY,\r\n  INIT_GOOD_FOR_EDIT,\r\n  SET_MIN_MAX_PRICE_OF_GOOD,\r\n  SET_PRICE_FOR_SEARCH,\r\n  FETCH_TAGS_FOR_SEARCH_GOODS,\r\n  CHANGE_CURRENT_PAGINATION_PAGE,\r\n  SET_TAGS_FOR_SEARCH,\r\n  FETCH_ALL_GOODS,\r\n  ADD_CATEGORY_FOR_FILTER,\r\n  ADD_PRICE_FOR_FILTER,\r\n  ADD_TAG_FOR_FILTER,\r\n  INIT_AVERAGE_PRICE,\r\n  INIT_ALL_FILTER,\r\n  CHANGE_TYPE_ORDER_BY,\r\n  GET_GOOD_BY_ID,\r\n  INIT_GET_GOOD_BY_ID\r\n} from \"../actions/actionTypes\";\r\n\r\nconst initialState = {\r\n  listOfGood : [],\r\n  listCategory : undefined,\r\n  newCategory : undefined,\r\n  price : undefined,\r\n  search : {\r\n\r\n    categoryId : undefined,\r\n    priceForSearch : undefined,\r\n    tag : undefined,\r\n    sort : undefined, //'Default sorting' ,'latest', 'price low to high', 'price high to low'\r\n\r\n    searchListOfCategory : [],\r\n    searchListOfGoods : [],\r\n    selectedGoodForEdit : undefined,\r\n\r\n    categoryForSearch : {},\r\n    searchStr : {},\r\n    currentPage : 1,\r\n    tags : []\r\n  },\r\n  goodById : undefined\r\n};\r\n\r\nexport default function goodReducer ( state = initialState, action ) {\r\n  switch ( action.type ) {\r\n\r\n\r\n    case INIT_GET_GOOD_BY_ID  : {\r\n      return {\r\n        ...state,\r\n        goodById : undefined\r\n      }\r\n    }\r\n\r\n\r\n    case GET_GOOD_BY_ID: {\r\n      return {\r\n        ...state,\r\n        goodById : action.payload\r\n      }\r\n    }\r\n\r\n    case CHANGE_TYPE_ORDER_BY : {\r\n      return {\r\n        ...state,\r\n        search : {\r\n          ...state.search,\r\n          sort : action.payload\r\n        }\r\n      }\r\n    }\r\n\r\n    case INIT_ALL_FILTER : {\r\n      return {\r\n        ...state,\r\n        search : {\r\n          ...state.search,\r\n          categoryId : undefined,\r\n          priceForSearch : undefined,\r\n          tag : undefined,\r\n          sort : \"Default sorting\"\r\n        }\r\n      }\r\n    }\r\n\r\n    case INIT_AVERAGE_PRICE : {\r\n      return {\r\n        ...state,\r\n        search : {\r\n          ...state.search,\r\n          priceForSearch : undefined\r\n        }\r\n      }\r\n\r\n    }\r\n    case FETCH_ALL_GOODS : {\r\n      return {\r\n        ...state,\r\n        listOfGood : action.payload\r\n      }\r\n    }\r\n    case SET_TAGS_FOR_SEARCH : {\r\n      return {\r\n        ...state,\r\n        search : {\r\n          ...state.search,\r\n          tags : action.payload\r\n        }\r\n      }\r\n    }\r\n    case CHANGE_CURRENT_PAGINATION_PAGE: {\r\n      return {\r\n        ...state,\r\n        search : {\r\n          ...state.search,\r\n          currentPage : action.payload\r\n        }\r\n      }\r\n    }\r\n\r\n    case SET_PRICE_FOR_SEARCH : {\r\n      return {\r\n        ...state,\r\n        search : {\r\n          ...state.search,\r\n          priceForSearch : { ...action.payload }\r\n        }\r\n      }\r\n    }\r\n\r\n    case SET_MIN_MAX_PRICE_OF_GOOD : {\r\n      return {\r\n        ...state,\r\n        price : {\r\n          ...action.payload,\r\n        }\r\n      }\r\n    }\r\n\r\n      //*****************************\r\n\r\n    case ADD_CATEGORY_FOR_FILTER : {\r\n      return {\r\n        ...state,\r\n        search : {\r\n          ...state.search,\r\n          categoryId : action.payload\r\n        }\r\n      }\r\n    }\r\n\r\n    case ADD_TAG_FOR_FILTER : {\r\n      return {\r\n        ...state,\r\n        search : {\r\n          ...state.search,\r\n          tag : action.payload\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n      //*****************************\r\n\r\n\r\n    case FETCH_FILTER_GOODS_BY_CATEGORY : {\r\n      return {\r\n        ...state,\r\n        listOfGood : action.payload,\r\n        search : {\r\n          ...state.search,\r\n          categoryId : action.categoryId\r\n        }\r\n      }\r\n    }\r\n    case INIT_GOOD_FOR_EDIT : {\r\n      return {\r\n        ...state,\r\n        search : {\r\n          ...state.search,\r\n          selectedGoodForEdit : []\r\n        }\r\n      }\r\n    }\r\n    case SET_GOOD_FOR_EDIT : {\r\n      return {\r\n        ...state,\r\n        search : {\r\n          ...state.search,\r\n          selectedGoodForEdit : action.payload\r\n        }\r\n      }\r\n    }\r\n    case SEARCH_FOR_EDITOR_SHEET : {\r\n      return {\r\n        ...state,\r\n        search : {\r\n          ...state.search,\r\n          searchListOfGoods : action.payload\r\n        }\r\n      }\r\n    }\r\n    case INIT_CREATE_NEW_CATEGORY: {\r\n      return {\r\n        ...state,\r\n        newCategory : undefined\r\n      }\r\n    }\r\n    case FETCH_NEW_CATEGORY_AFTER_CREATE : {\r\n      return {\r\n        ...state,\r\n        newCategory : action.payload\r\n      }\r\n    }\r\n    case FETCH_LIST_CATEGORY : {\r\n      return {\r\n        ...state,\r\n        listCategory : action.payload\r\n      }\r\n    }\r\n    default : {\r\n      return { ...state }\r\n    }\r\n  }\r\n\r\n}\r\n","import { CATCH_ERROR, CLOSE_MODAL_WINDOW, OPEN_MODAL_WINDOW, CHANGE_VISIBILITY_SIDEBAR } from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n  Modal : {\r\n    isShow : false,\r\n    id : '',\r\n    type : '',\r\n    title : '',\r\n    text : '',\r\n    fnAgree : null,\r\n\r\n    module : '',\r\n    fn : null,\r\n    msg : ''\r\n  },\r\n  SideBar : {\r\n    isShow : false\r\n  }\r\n};\r\n\r\n\r\nexport default function layoutReducer ( state = initialState, action ) {\r\n  switch ( action.type ) {\r\n    case CHANGE_VISIBILITY_SIDEBAR: {\r\n      return {\r\n        ...state,\r\n        SideBar : {\r\n          ...state.SideBar,\r\n          isShow : action.bool || !state.SideBar.isShow\r\n        }\r\n      }\r\n    }\r\n\r\n    case CATCH_ERROR:\r\n\r\n      return {\r\n        ...state,\r\n        Modal : {\r\n          isShow : true,\r\n          id : 'modalShowError',\r\n          type : 'Error',\r\n          text : `В модуле \"${ action.module }\" во время выполнения \"${ action.fn }\" произошла ошибка: ${ action.msg }`,\r\n          title : 'Ошибка'\r\n        }\r\n      };\r\n\r\n    case OPEN_MODAL_WINDOW:\r\n      return {\r\n        ...state,\r\n        Modal : {\r\n          ...state.Modal,\r\n          isShow : true,\r\n          id : action.payload.id,\r\n          type : action.payload.type,\r\n          title : action.payload.title,\r\n          text : action.payload.text,\r\n          fnParam : action.payload.fnParam,\r\n          fnAgree : action.payload.fnAgree\r\n        }\r\n      };\r\n\r\n    case CLOSE_MODAL_WINDOW:\r\n      return {\r\n        ...state,\r\n        Modal : { isShow : false }\r\n      };\r\n\r\n    default:\r\n      return { ...state };\r\n\r\n  }\r\n}\r\n","import { IS_SHOW_AUTH, FETCH_DATA_AUTH_USER, LOGOUT } from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n  isAuth : undefined,\r\n  isAdmin : undefined,\r\n  showAuthForm : false,\r\n  error : '',\r\n  user : {}\r\n};\r\n\r\nexport default function authReducer ( state = initialState, action ) {\r\n  switch ( action.type ) {\r\n    case LOGOUT : {\r\n      return {\r\n        ...state,\r\n        user : {},\r\n        isAuth : undefined,\r\n\r\n      }\r\n    }\r\n\r\n    case FETCH_DATA_AUTH_USER : {\r\n      return {\r\n        ...state,\r\n        user : action.payload,\r\n        isAuth : true,\r\n        showAuthForm : false\r\n      }\r\n\r\n    }\r\n    case IS_SHOW_AUTH : {\r\n      return {\r\n        ...state,\r\n        showAuthForm : !state.showAuthForm\r\n      }\r\n    }\r\n    default : {\r\n      return { ...state }\r\n    }\r\n  }\r\n}\r\n","import { FETCH_USER_CART, ADD_ITEM_TO_CART, DEL_ITEM_FROM_CART, CREATE_ORDER, FETCH_LAST_NOT_COMPLETE_CART, FETCH_CART_BY_ID, INIT_CART_FOR_THE_NEXT_SHOP } from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n  // Корзина не оформленная\r\n  cart : undefined,\r\n  // Все корзины\r\n  allCart : undefined,\r\n//Поиск корзины по ID\r\n  cartById : undefined\r\n};\r\n\r\nexport default function cartReducer ( state = initialState, action ) {\r\n  switch ( action.type ) {\r\n    case INIT_CART_FOR_THE_NEXT_SHOP : {\r\n      return {\r\n        ...state,\r\n        cart : undefined\r\n      }\r\n    }\r\n\r\n    case FETCH_CART_BY_ID : {\r\n      return {\r\n        ...state,\r\n        cartById : action.payload\r\n      }\r\n    }\r\n    case FETCH_LAST_NOT_COMPLETE_CART : {\r\n      return {\r\n        ...state,\r\n        cart : action.payload\r\n      }\r\n    }\r\n    case FETCH_USER_CART: {\r\n      return {\r\n        ...state,\r\n        allCart : action.payload\r\n      }\r\n    }\r\n    case ADD_ITEM_TO_CART : {\r\n      return {\r\n        ...state,\r\n        itemInCart : action.payload\r\n      }\r\n    }\r\n    default: {\r\n      return {\r\n        ...state\r\n      }\r\n    }\r\n  }\r\n}\r\n","import {\r\n  FETCH_ALL_USERS,\r\n  SET_SEARCH_STR\r\n} from '../actions/actionTypes'\r\n\r\nconst initialState = {\r\n  users : [],\r\n  search : {\r\n    login : undefined,\r\n    name : undefined,\r\n    email : undefined\r\n  }\r\n};\r\n\r\nexport default function userReducer ( state = initialState, action ) {\r\n  switch ( action.type ) {\r\n    case SET_SEARCH_STR : {\r\n      return {\r\n        ...state,\r\n        search : {\r\n          ...state.search,\r\n          ...action.payload\r\n        }\r\n      }\r\n    }\r\n    case FETCH_ALL_USERS : {\r\n      return {\r\n        ...state,\r\n        users : action.payload\r\n      }\r\n    }\r\n    default : {\r\n      return {\r\n        ...state\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport goodReducer from \"./goodReducer\";\r\nimport layoutReducer from './layoutReducer';\r\nimport authReducer from './authReducer';\r\nimport cartReducer from './cartReducer';\r\nimport userReducer from './userReducer';\r\n\r\nexport default combineReducers ( {\r\n  goodReducer : goodReducer,\r\n  layoutReducer : layoutReducer,\r\n  cartReducer : cartReducer,\r\n  authReducer : authReducer,\r\n  userReducer : userReducer\r\n} );\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport { BrowserRouter } from 'react-router-dom'\n\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport rootReducer from \"./store/reducer/rootReducer\";\nimport thunk from 'redux-thunk';\n\nconst composeEnhancers =\n    typeof window === 'object' &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n        window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ( {} ) : compose;\n\n\nconst store = createStore (\n    rootReducer,\n    composeEnhancers ( applyMiddleware ( thunk ) ) );\n\nReactDOM.render (\n    <Provider store={ store }>\n      <BrowserRouter>\n        <App/>\n      </BrowserRouter>\n    </Provider>,\n    document.getElementById ( 'root' )\n);\n\n"],"sourceRoot":""}